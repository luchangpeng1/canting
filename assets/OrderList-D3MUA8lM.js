import{_ as C,g as f,o as N,k as p,q as _,w as l,x as r,y as n,z as i,A as m,H as v,V as k,n as a,v as d,B as b}from"./index-DxkRXB23.js";const B={name:"OrderList",setup(){const u=f("ongoing"),o=f([]),g=f([]),t=[{id:1,windowName:"特色炒菜",status:"pending",dishes:[{id:1,name:"宫保鸡丁",quantity:1,price:15},{id:2,name:"青椒肉丝",quantity:1,price:12}],totalPrice:27,createTime:"2024-01-20 12:30:00"}],O=s=>({pending:"warning",preparing:"primary",ready:"success",completed:"info",cancelled:"danger"})[s]||"info",w=s=>({pending:"待接单",preparing:"制作中",ready:"待取餐",completed:"已完成",cancelled:"已取消"})[s]||"未知状态";return N(()=>{o.value=t.filter(s=>["pending","preparing","ready"].includes(s.status)),g.value=t.filter(s=>["completed","cancelled"].includes(s.status))}),{activeTab:u,ongoingOrders:o,completedOrders:g,getStatusType:O,getStatusText:w}}},S={class:"order-list"},q={class:"order-header"},z={class:"window-name"},L={class:"order-content"},P={class:"dish-list"},A={class:"order-footer"},D={class:"total-price"},E={class:"actions"};function F(u,o,g,t,O,w){const s=r("el-empty"),y=r("el-tag"),x=r("el-button"),T=r("el-card"),h=r("el-tab-pane"),V=r("el-tabs");return n(),p("div",S,[_(V,{modelValue:t.activeTab,"onUpdate:modelValue":o[0]||(o[0]=e=>t.activeTab=e)},{default:l(()=>[_(h,{label:"进行中",name:"ongoing"},{default:l(()=>[t.ongoingOrders.length===0?(n(),i(s,{key:0,description:"暂无进行中的订单"})):m("",!0),(n(!0),p(v,null,k(t.ongoingOrders,e=>(n(),i(T,{key:e.id,class:"order-card"},{default:l(()=>[a("div",q,[a("span",z,d(e.windowName),1),_(y,{type:t.getStatusType(e.status)},{default:l(()=>[b(d(t.getStatusText(e.status)),1)]),_:2},1032,["type"])]),a("div",L,[a("div",P,[(n(!0),p(v,null,k(e.dishes,c=>(n(),p("div",{key:c.id,class:"dish-item"},[a("span",null,d(c.name),1),a("span",null,"x"+d(c.quantity),1),a("span",null,"¥"+d(c.price),1)]))),128))]),a("div",A,[a("span",D,"合计：¥"+d(e.totalPrice),1),a("div",E,[e.status==="pending"?(n(),i(x,{key:0,type:"primary",size:"small",onClick:c=>u.cancelOrder(e)},{default:l(()=>o[1]||(o[1]=[b(" 取消订单 ")])),_:2},1032,["onClick"])):m("",!0),e.status==="ready"?(n(),i(x,{key:1,type:"success",size:"small",onClick:c=>u.confirmReceived(e)},{default:l(()=>o[2]||(o[2]=[b(" 确认取餐 ")])),_:2},1032,["onClick"])):m("",!0)])])])]),_:2},1024))),128))]),_:1}),_(h,{label:"已完成",name:"completed"},{default:l(()=>[t.completedOrders.length===0?(n(),i(s,{key:0,description:"暂无已完成订单"})):m("",!0),(n(!0),p(v,null,k(t.completedOrders,e=>(n(),i(T,{key:e.id,class:"order-card"}))),128))]),_:1})]),_:1},8,["modelValue"])])}const I=C(B,[["render",F],["__scopeId","data-v-be56b7f2"]]);export{I as default};
