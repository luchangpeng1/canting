import{_ as A,g as p,k as F,q as e,w as l,x as o,y as G,n as c,aG as g,B as s,v as h,aa as K,E as R,L as X,aX as H,aK as J}from"./index-1A1V_OG6.js";const O={class:"inventory-container"},Q={class:"header-content"},W={class:"right"},Y={class:"pagination"},Z={__name:"Inventory",setup(ee){const u=p({name:"",type:"",status:""}),m=p(1),f=p(10),x=p(100),V=p([{id:1,name:"土豆",type:"蔬菜",stock:50,unit:"斤",threshold:100,updateTime:"2024-03-20 10:30:00"},{id:2,name:"猪肉",type:"肉类",stock:30,unit:"斤",threshold:50,updateTime:"2024-03-20 09:15:00"}]),S=(a,t)=>a<=t*.3?"danger":a<=t*.7?"warning":"success",z=(a,t)=>a<=t*.3?"不足":a<=t*.7?"预警":"充足",T=()=>{console.log("搜索条件：",u.value)},B=()=>{u.value={name:"",type:"",status:""}},w=()=>{},E=()=>{},U=()=>{},I=a=>{console.log("编辑：",a)},$=a=>{console.log("补货：",a)},N=a=>{K.confirm(`确定要删除 ${a.name} 吗？`,"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{R.success("删除成功")}).catch(()=>{})},D=a=>{f.value=a},L=a=>{m.value=a};return(a,t)=>{const v=o("el-icon"),d=o("el-button"),M=o("el-input"),_=o("el-form-item"),r=o("el-option"),y=o("el-select"),P=o("el-form"),b=o("el-card"),i=o("el-table-column"),k=o("el-tag"),j=o("el-table"),q=o("el-pagination");return G(),F("div",O,[e(b,{class:"inventory-header"},{header:l(()=>[c("div",Q,[t[8]||(t[8]=c("div",{class:"left"},[c("h3",null,"库存管理")],-1)),c("div",W,[e(d,{type:"primary",onClick:w},{default:l(()=>[e(v,null,{default:l(()=>[e(g(X))]),_:1}),t[5]||(t[5]=s("添加物料 "))]),_:1}),e(d,{type:"success",onClick:E},{default:l(()=>[e(v,null,{default:l(()=>[e(g(H))]),_:1}),t[6]||(t[6]=s("批量导入 "))]),_:1}),e(d,{onClick:U},{default:l(()=>[e(v,null,{default:l(()=>[e(g(J))]),_:1}),t[7]||(t[7]=s("导出数据 "))]),_:1})])])]),default:l(()=>[e(P,{inline:!0,model:u.value,class:"search-form"},{default:l(()=>[e(_,{label:"物料名称"},{default:l(()=>[e(M,{modelValue:u.value.name,"onUpdate:modelValue":t[0]||(t[0]=n=>u.value.name=n),placeholder:"请输入物料名称"},null,8,["modelValue"])]),_:1}),e(_,{label:"物料类型"},{default:l(()=>[e(y,{modelValue:u.value.type,"onUpdate:modelValue":t[1]||(t[1]=n=>u.value.type=n),placeholder:"请选择物料类型"},{default:l(()=>[e(r,{label:"蔬菜",value:"vegetable"}),e(r,{label:"肉类",value:"meat"}),e(r,{label:"调味料",value:"seasoning"}),e(r,{label:"主食",value:"staple"})]),_:1},8,["modelValue"])]),_:1}),e(_,{label:"库存状态"},{default:l(()=>[e(y,{modelValue:u.value.status,"onUpdate:modelValue":t[2]||(t[2]=n=>u.value.status=n),placeholder:"请选择库存状态"},{default:l(()=>[e(r,{label:"充足",value:"sufficient"}),e(r,{label:"正常",value:"normal"}),e(r,{label:"预警",value:"warning"}),e(r,{label:"不足",value:"insufficient"})]),_:1},8,["modelValue"])]),_:1}),e(_,null,{default:l(()=>[e(d,{type:"primary",onClick:T},{default:l(()=>t[9]||(t[9]=[s("查询")])),_:1}),e(d,{onClick:B},{default:l(()=>t[10]||(t[10]=[s("重置")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(b,{class:"inventory-table"},{default:l(()=>[e(j,{data:V.value,stripe:"",style:{width:"100%"}},{default:l(()=>[e(i,{prop:"name",label:"物料名称"}),e(i,{prop:"type",label:"物料类型"},{default:l(({row:n})=>[e(k,null,{default:l(()=>[s(h(n.type),1)]),_:2},1024)]),_:1}),e(i,{prop:"stock",label:"当前库存"}),e(i,{prop:"unit",label:"单位",width:"80"}),e(i,{prop:"threshold",label:"预警阈值",width:"100"}),e(i,{prop:"status",label:"状态"},{default:l(({row:n})=>[e(k,{type:S(n.stock,n.threshold)},{default:l(()=>[s(h(z(n.stock,n.threshold)),1)]),_:2},1032,["type"])]),_:1}),e(i,{prop:"updateTime",label:"最后更新时间",width:"160"}),e(i,{fixed:"right",label:"操作",width:"200"},{default:l(({row:n})=>[e(d,{type:"primary",link:"",onClick:C=>I(n)},{default:l(()=>t[11]||(t[11]=[s(" 编辑 ")])),_:2},1032,["onClick"]),e(d,{type:"success",link:"",onClick:C=>$(n)},{default:l(()=>t[12]||(t[12]=[s(" 补货 ")])),_:2},1032,["onClick"]),e(d,{type:"danger",link:"",onClick:C=>N(n)},{default:l(()=>t[13]||(t[13]=[s(" 删除 ")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),c("div",Y,[e(q,{"current-page":m.value,"onUpdate:currentPage":t[3]||(t[3]=n=>m.value=n),"page-size":f.value,"onUpdate:pageSize":t[4]||(t[4]=n=>f.value=n),"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:x.value,onSizeChange:D,onCurrentChange:L},null,8,["current-page","page-size","total"])])]),_:1})])}}},le=A(Z,[["__scopeId","data-v-52872c2c"]]);export{le as default};
