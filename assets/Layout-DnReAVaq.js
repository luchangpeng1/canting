import{_ as Pl,aM as Il,a8 as Tl,G as Al,b as Ll,aN as Ml,aO as Nl,aP as El,aQ as Rl,aE as ql,aR as zl,M as Ol,aS as Hl,aT as Wl,aU as Ql,aV as Jl,r as Gl,aW as jl,aX as Yl,aY as Kl,u as Zl,s as Xl,f as $l,aZ as eo,a_ as lo,am as oo,g as f,h as xe,o as il,j as rl,Y as L,ay as De,E as c,k as y,q as o,w as t,J as M,af as me,x as r,y as _,B as d,I as ce,a1 as ve,z as Ue,n as l,v as S,T as to,$ as no,a0 as ao,a3 as so,A as H,au as dl,C as io,aC as ro}from"./index-CjeFGtzt.js";import{i as uo}from"./permission-6D7hEpLD.js";const fo={name:"AdminLayout",components:{Dish:Il,Calendar:Tl,List:Al,Shop:Ll,UserFilled:Ml,CaretBottom:Nl,Download:El,QuestionFilled:Rl,ChatDotRound:ql,Delete:zl,Plus:Ol,Close:Hl,Warning:Wl,ArrowUp:Ql,ArrowDown:Jl,Refresh:Gl,DataBoard:jl,TrendCharts:Yl,Box:Kl,User:Zl,Setting:Xl,Lock:$l,SwitchButton:eo,VideoPlay:lo,Document:oo},setup(){var ol,tl,nl,al,sl;const B=io(),e=f(!1),Be=f(!1),n=f(!1),pe=f(!1),Pe=f(null),k=f(!1),W=f(!1),v=f("sales"),N=f("all"),b=f([]),I=f([]),K=()=>{e.value=window.innerWidth<=768},m=f(JSON.parse(localStorage.getItem("user"))||{username:"",canteen:null,window:null}),V=()=>{const s=B.currentRoute.value.path;return{"/admin/dishes":"菜品管理","/admin/menus":"菜单管理","/admin/orders":"订单管理","/admin/windows":"窗口管理"}[s]||"首页"},ge=s=>{switch(s){case"profile":te.value=!0;break;case"password":$.value=!0;break;case"settings":Ge.value=!0;break;case"logout":oe();break;case"help":el.value=!0;break}},oe=()=>{me.confirm("确定要退出登录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{localStorage.removeItem("user"),localStorage.removeItem("verifiedInfo"),B.push("/login")})},Q=xe({todayOrders:0,orderTrend:0,revenue:0,revenueTrend:0,topDishes:[],lowStockList:[]}),te=f(!1),we=f(null),q=f(!1),J=xe({workId:"W2024001",username:((ol=m.value)==null?void 0:ol.username)||"默认用户名",name:"张三",phone:"13800138000",email:"zhangsan@example.com",canteen:((nl=(tl=m.value)==null?void 0:tl.canteen)==null?void 0:nl.name)||"",window:((sl=(al=m.value)==null?void 0:al.window)==null?void 0:sl.name)||"",department:"餐饮部",position:"窗口管理员",employeeId:"EMP2024001",status:"在职",joinDate:"2024-01-01",workHours:"09:00-17:00",restDays:"周六、周日",emergencyContact:"",emergencyPhone:"",emergencyRelation:"",skills:["收银","食品安全","客户服务"],certificates:["健康证","食��安全证"],performance:{attendance:"98%",satisfaction:"4.8",completeRate:"96%"},avatar:""}),Ie="https://api.example.com/upload/avatar",be=s=>{J.avatar=s.url;const i=JSON.parse(localStorage.getItem("user")||"{}");i.avatar=s.url,localStorage.setItem("user",JSON.stringify(i)),c.success("头像上传成功")},Te=s=>{const i=/^image\//.test(s.type),u=s.size/1024/1024<2;return i||c.error("只能上传图片文件!"),u||c.error("图片大小不能超过 2MB!"),i&&u},Ae=async()=>{try{await new Promise(s=>setTimeout(s,500)),Q.todayOrders=128,Q.orderTrend=-5.2,Q.revenue=3256.5,Q.revenueTrend=12.5}catch(s){console.error("获取统计数据失败:",s)}};il(()=>{K(),window.addEventListener("resize",K),Ae(),Ne(),x(),Z();const s=()=>{$e(),document.removeEventListener("click",s)};document.addEventListener("click",s)}),rl(()=>{window.removeEventListener("resize",K),re&&clearInterval(re)});const E=f({canteen:"",window:""}),z={canteen:[{required:!0,message:"请选择所属餐厅",trigger:"change"}],window:[{required:!0,message:"请选择所属窗口",trigger:"change"}]},ne=f([{id:1,name:"中央食堂",floors:[{floor:1,sections:["左区","右区"]},{floor:2,sections:["左区","右区"]},{floor:3,sections:["左区","右区"]}]},{id:2,name:"沁园餐厅",floors:[{floor:1,sections:["主区"]},{floor:2,sections:["主区"]}]},{id:3,name:"馨园餐厅",floors:[{floor:1,sections:["主区"]}]},{id:4,name:"仲园餐厅",floors:[{floor:1,sections:["主区"]},{floor:2,sections:["主区"]}]},{id:5,name:"雅园餐厅",floors:[{floor:1,sections:["主区"]}]},{id:6,name:"F区服务���",floors:[{floor:1,sections:["主区"]}]},{id:7,name:"A区服务点",floors:[{floor:1,sections:["主区"]}]}]),ae=L(()=>{if(!E.value.canteen)return[];const s=ne.value.find(g=>g.id===E.value.canteen);if(!s)return[];const i=[];let u=1;return s.floors.forEach(g=>{g.sections.forEach(C=>{for(let U=1;U<=5;U++)i.push({id:u++,name:`${g.floor}楼${C}-${U}号窗口`})})}),i}),_e=async()=>{pe.value=!0;try{await Pe.value.validate();const s=ne.value.find(C=>C.id===E.value.canteen),i=ae.value.find(C=>C.id===E.value.window),u=JSON.parse(localStorage.getItem("user")||"{}");if(u.verifiedInfo&&(u.verifiedInfo.canteen.id!==s.id||u.verifiedInfo.window.id!==i.id))throw new Error("验证信息与登录信息不匹配");const g={canteen:s,window:i,verifiedAt:new Date().toISOString()};localStorage.setItem("verifiedInfo",JSON.stringify(g)),n.value=!1,c.success("身份验证成功")}catch(s){console.error("验证失败:",s),c.error(s.message||"请完成所有必填项")}finally{pe.value=!1}};De(()=>E.value.canteen,()=>{E.value.window=""});const Le={ORDER:{type:"order",label:"订单消息",icon:"List",color:"#409EFF",tagType:"primary"},STOCK:{type:"stock",label:"库存提醒",icon:"Warning",color:"#E6A23C",tagType:"warning"},SYSTEM:{type:"system",label:"系统通知",icon:"Bell",color:"#67C23A",tagType:"success"}},se=f("all"),Me=[{value:"all",label:"全部消息"},{value:"order",label:"订单消息"},{value:"stock",label:"库存提醒"},{value:"system",label:"系统通知"}],P=f([]),O=f(0),ye=f(!1),Ne=async()=>{try{const s=[{id:1,type:"order",title:"新订单提醒",content:"您有一个新的订单待处理",time:"2024-03-20 10:30",read:!1,priority:"high",link:"/admin/orders",data:{orderId:"2024032001"}},{id:2,type:"stock",title:"库存预警",content:"土豆库存不足,请及时补充",time:"2024-03-20 09:15",read:!1,priority:"medium",link:"/admin/dishes",data:{dishId:"D001"}},{id:3,type:"system",title:"系统维护通知",content:"系统将于今晚22:00进行例行维护",time:"2024-03-20 08:00",read:!1,priority:"low",link:null}];P.value=s,X(),Re()}catch(s){console.error("获取通知��败:",s),c.error("获取通知失败")}},ie=L(()=>se.value==="all"?P.value:P.value.filter(s=>s.type===se.value)),Ee=s=>{s.read||Ve(s.id),s.link&&(ye.value=!1,B.push({path:s.link,query:s.data}))};let re;const Re=()=>{re=setInterval(async()=>{await qe()},3e4)},qe=async()=>{try{if(Math.random()>.7){const i={id:Date.now(),type:"order",title:"新订单通知",content:`收到新的订单 #${Math.floor(Math.random()*1e3)}`,time:new Date().toLocaleString(),read:!1,priority:"high",link:"/admin/orders"};P.value.unshift(i),X(),Notification.permission==="granted"&&new Notification("新消���提醒",{body:i.content,icon:"/favicon.ico"}),je()}}catch(s){console.error("检查新消息失败:",s)}},w=f(null),F=()=>{if(w.value)w.value.state==="suspended"&&w.value.resume();else try{w.value=new(window.AudioContext||window.webkitAudioContext)}catch(s){console.error("创建音频上下文失败:",s)}},T=()=>{F(),document.removeEventListener("click",T)};il(()=>{document.addEventListener("click",T)}),rl(()=>{document.removeEventListener("click",T),w.value&&w.value.close()});const de=()=>{O.value++,je(),ee.value=!0,setTimeout(()=>{ee.value=!1},1e3)},Z=async()=>{Notification.permission==="default"&&await Notification.requestPermission()},X=()=>{O.value=P.value.filter(s=>!s.read).length},Ve=async s=>{try{const i=P.value.find(u=>u.id===s);i&&(i.read=!0,X())}catch(i){console.error("标记已读失败:",i),c.error("操作失败")}},R=async()=>{try{P.value.forEach(s=>s.read=!0),X(),c.success("已全部标记为已读")}catch(s){console.error("标记全部已读失败:",s),c.error("操作失败")}},ke=async()=>{try{await me.confirm("确定要清空所有消息吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),P.value=[],O.value=0,c.success("清空成功")}catch(s){s!=="cancel"&&(console.error("清空消息失败:",s),c.error("操作失败"))}},G=f([]),h=f([]),x=async()=>{try{G.value=[{id:1,content:"处理待确认订单",deadline:"2024-03-20 12:00"},{id:2,content:"更新明日菜单",deadline:"2024-03-20 18:00"}]}catch(s){console.error("获取待办事项失败:",s),c.error("获取待办事项失败")}},ze=async()=>{try{const{value:s}=await me.prompt("请输待事项内容","添待办",{confirmButtonText:"确定",cancelButtonText:"取消",inputValidator:i=>i?!0:"内容不能为空"});s&&(G.value.push({id:Date.now(),content:s,deadline:new Date().toLocaleString()}),c.success("添加成功"))}catch(s){s!=="cancel"&&(console.error("添加待办失败:",s),c.error("添加失败"))}},Oe=async s=>{try{await me.confirm("确定要删除该待办事项吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),G.value=G.value.filter(i=>i.id!==s),c.success("删除成功")}catch(i){i!=="cancel"&&(console.error("删除待办失败:",i),c.error("删除失败"))}},$=f(!1),ue=f(null),fe=f(!1),D=xe({oldPassword:"",newPassword:"",confirmPassword:""}),Fe=L(()=>D.newPassword.length>=6),j=L(()=>/\d/.test(D.newPassword)),he=L(()=>/[a-zA-Z]/.test(D.newPassword)),Ce=L(()=>/[^a-zA-Z0-9]/.test(D.newPassword)),A=L(()=>{let s=0;return Fe.value&&s++,j.value&&s++,he.value&&s++,Ce.value&&s++,Math.min(3,s)}),He=L(()=>A.value===0?"弱":A.value===1?"中":A.value===2?"强":"非常强"),a={oldPassword:[{required:!0,message:"请输入原密码",trigger:"blur"}],newPassword:[{required:!0,message:"请输入新密码",trigger:"blur"},{min:6,message:"密码长度不能少于6个字符",trigger:"blur"}],confirmPassword:[{required:!0,message:"请确认新密码",trigger:"blur"},{validator:(s,i,u)=>{i!==D.newPassword?u(new Error("两次输入的密码不一致")):u()},trigger:"blur"}]},We=async()=>{if(ue.value)try{await ue.value.validate(),fe.value=!0,await new Promise(s=>setTimeout(s,1e3)),c.success("密码修改成功"),$.value=!1,D.oldPassword="",D.newPassword="",D.confirmPassword=""}catch(s){console.error("修改密码失败:",s),c.error("修改密码失败")}finally{fe.value=!1}},ul=async()=>{try{q.value=!0,await new Promise(s=>setTimeout(s,1e3)),c.success("保存成功"),te.value=!1}catch(s){console.error("保存个人信息失败:",s),c.error("保存失败")}finally{q.value=!1}},ee=f(!1),fl=()=>{ye.value=!0,O.value>0,ee.value=!1},ml=()=>{ee.value=!0,setTimeout(()=>{ee.value=!1},1e3)};De(O,(s,i)=>{s>i&&ml()});const Ye={navColor:"#1e3c72",contentColor:"#f5f7fa",refreshInterval:"60",orderNotification:!0,stockAlert:!0,soundEnabled:!0,stockThreshold:10,autoBackup:!1,backupInterval:"daily",menuMode:"vertical",fixedHeader:!0,showBreadcrumb:!0,showFooter:!0,enableAnimation:!0,fontSize:14,loginVerification:!0,rememberLogin:!0,autoLockTime:"30",operationConfirm:!0,sensitiveOperationVerify:!0,notificationSound:"clear"},p=xe({...Ye}),Qe={nav:[{label:"深邃蓝",value:"#1e3c72",description:"稳重大气的深蓝色调",matchColors:["#f5f7fa","#ffffff","#f0f2f5"]},{label:"科技蓝",value:"#2196F3",description:"现代感的科技蓝",matchColors:["#ffffff","#f5f7fa","#f0f2f5"]},{label:"海洋蓝",value:"#0277BD",description:"深邃的海洋蓝调",matchColors:["#ffffff","#f5f7fa","#f0f2f5"]},{label:"典雅紫",value:"#673AB7",description:"高贵典雅的紫色",matchColors:["#ffffff","#f5f7fa","#f0f2f5"]},{label:"深邃紫",value:"#4A148C",description:"神秘的深紫色调",matchColors:["#ffffff","#f5f7fa","#f0f2f5"]},{label:"翡翠绿",value:"#009688",description:"清新自然的翡翠绿",matchColors:["#ffffff","#f5f7fa","#f0f2f5"]},{label:"森林绿",value:"#2E7D32",description:"生机盎然的森林绿",matchColors:["#ffffff","#f5f7fa","#f0f2f5"]},{label:"暖棕色",value:"#795548",description:"温暖沉稳的棕色调",matchColors:["#ffffff","#f5f7fa","#f0f2f5"]},{label:"深红色",value:"#C62828",description:"热情奔放的深红色",matchColors:["#ffffff","#f5f7fa","#f0f2f5"]},{label:"石墨灰",value:"#455A64",description:"内敛优雅的深灰色",matchColors:["#ffffff","#f5f7fa","#f0f2f5"]},{label:"冷调灰",value:"#37474F",description:"沉稳大气的冷灰色",matchColors:["#ffffff","#f5f7fa","#f0f2f5"]},{label:"经典黑",value:"#263238",description:"永恒经典的深邃黑",matchColors:["#ffffff","#f5f7fa","#f0f2f5"]},{label:"午夜蓝",value:"#1A237E",description:"深邃的午夜蓝调",matchColors:["#ffffff","#f5f7fa","#f0f2f5"]}],content:[{label:"清新白",value:"#ffffff",description:"简洁明亮的纯白色调"},{label:"��牙白",value:"#f5f7fa",description:"柔和舒适的象牙白"},{label:"淡雅灰",value:"#F5F5F5",description:"清爽淡雅的浅灰色"},{label:"米白色",value:"#FAFAFA",description:"��和自然的米白色"},{label:"珍珠白",value:"#F8F9FA",description:"细腻柔和的珍珠白"},{label:"浅蓝灰",value:"#EEF2F6",description:"清凉舒适的浅蓝灰"}]},Je=L(()=>{const s=Qe.nav.find(i=>i.value===p.navColor);return s?s.matchColors:Qe.content.map(i=>i.value)}),Se=(s=!1)=>{const i=document.querySelector(".aside");if(i){i.style.background=p.navColor;const g=i.querySelector(".el-menu");g&&(g.style.backgroundColor=p.navColor),i.querySelectorAll(".el-menu-item").forEach(U=>{U.style.backgroundColor=p.navColor})}if(s){const g=document.querySelector(".preview-aside");g&&(g.style.background=p.navColor)}const u=document.querySelector(".main");u&&(u.style.background=p.contentColor),document.documentElement.style.setProperty("--nav-background",p.navColor),document.documentElement.style.setProperty("--content-background",p.contentColor)};De(()=>p.navColor,()=>{Je.value.includes(p.contentColor)||(p.contentColor=Je.value[0]),Se(!0)}),De(()=>p.contentColor,()=>{Se(!0)});const cl=f(45),vl=f(450*1024*1024),pl=f(1024*1024*1024),gl=s=>{if(s===0)return"0 B";const i=1024,u=["B","KB","MB","GB","TB"],g=Math.floor(Math.log(s)/Math.log(i));return parseFloat((s/Math.pow(i,g)).toFixed(2))+" "+u[g]},wl=s=>`${s}%`,bl=async()=>{try{await me.confirm("确定要恢复默认设置吗？","提示",{type:"warning"}),Object.assign(p,Ye),c.success("已恢复默认设置")}catch(s){s!=="cancel"&&(console.error("重置设置失败:",s),c.error("操作失败"))}},Ge=f(!1),_l=f(null),yl=f("theme"),Ke=f(!1),Ze=f(!1),Xe=f(null),Vl=()=>{J.avatar&&(Ze.value=!0)},kl=()=>{Xe.value.click()},Fl=s=>{const i=s.target.files[0];if(i){const u=/^image\//.test(i.type),g=i.size/1024/1024<2;if(!u){c.error("只能上传图片文件!");return}if(!g){c.error("图片大小不能超过 2MB!");return}const C=new FileReader;C.onload=U=>{J.avatar=U.target.result;const le=JSON.parse(localStorage.getItem("user")||"{}");le.avatar=U.target.result,localStorage.setItem("user",JSON.stringify(le)),c.success("头像更新成功")},C.readAsDataURL(i)}s.target.value=""},hl=(s,i)=>{const u=parseInt(s.replace("#",""),16),g=Math.round(2.55*i),C=(u>>16)+g,U=(u>>8&255)+g,le=(u&255)+g;return`#${(1<<24|(C<255?C<1?0:C:255)<<16|(U<255?U<1?0:U:255)<<8|(le<255?le<1?0:le:255)).toString(16).slice(1)}`},Y=f([{label:"微信提示音",value:"wechat",audioPath:"/src/mp3/叮咚.mp3"},{label:"钉钉提示音",value:"dingtalk",audioPath:"/src/mp3/提示音效2.mp3"},{label:"iOS提示音",value:"ios",audioPath:"/src/mp3/提示音效3.mp3"}]),$e=async()=>{try{if(w.value||F(),!w.value){console.error("无法初始化音频上下文");return}for(const s of Y.value){const u=await(await fetch(s.audioPath)).arrayBuffer();s.audioBuffer=await w.value.decodeAudioData(u)}}catch(s){console.error("加载预设音效失败:",s)}},Cl=async s=>{const i=s.target.files[0];if(i){if(!i.type.startsWith("audio/")){c.error("请上传音频文件");return}if(i.size>2*1024*1024){c.error("音频文件不能超过2MB");return}try{const u=await i.arrayBuffer(),g=await w.value.decodeAudioData(u),C={label:i.name.split(".")[0],value:`custom_${Date.now()}`,audioBuffer:g};Y.value.push(C),c.success("音效添加成功")}catch(u){console.error("音效加载失败:",u),c.error("音效加载失败")}}},Sl=async s=>{try{if(w.value||F(),w.value&&p.soundEnabled){const i=Y.value.find(u=>u.value===s);if(i){const u=w.value.createBufferSource();u.buffer=i.audioBuffer;const g=w.value.createGain();g.gain.value=p.notificationVolume/100,u.connect(g),g.connect(w.value.destination),u.start()}}}catch(i){console.error("播放预览音效失败:",i)}},je=async()=>{try{if(w.value||F(),p.soundEnabled&&w.value){const s=Y.value.find(i=>i.value===p.notificationSound);if(s){const i=w.value.createBufferSource();i.buffer=s.audioBuffer;const u=w.value.createGain();u.gain.value=p.notificationVolume/100,i.connect(u),u.connect(w.value.destination),i.start()}}}catch(s){console.error("播放提示音失败:",s)}},xl=s=>{const i=Y.value.findIndex(u=>u.value===s);i>0&&(Y.value.splice(i,1),p.notificationSound===s&&(p.notificationSound="default"),c.success("音效删除成功"))},Dl=()=>{p.menuMode==="horizontal"?document.querySelector(".el-menu").classList.add("el-menu--horizontal"):document.querySelector(".el-menu").classList.remove("el-menu--horizontal");const s=document.querySelector(".header");p.fixedHeader?s.classList.add("fixed"):s.classList.remove("fixed");const i=document.querySelector(".el-breadcrumb");i&&(i.style.display=p.showBreadcrumb?"flex":"none");const u=document.querySelector(".footer");u&&(u.style.display=p.showFooter?"block":"none"),p.enableAnimation?document.body.classList.add("enable-animation"):document.body.classList.remove("enable-animation"),document.documentElement.style.fontSize=`${p.fontSize}px`,p.compactMode?document.body.classList.add("compact-mode"):document.body.classList.remove("compact-mode"),Ke.value=p.showQuickActions,Be.value=p.menuCollapse,p.darkMode?document.documentElement.classList.add("dark-mode"):document.documentElement.classList.remove("dark-mode")},Ul=async()=>{try{q.value=!0,localStorage.setItem("systemSettings",JSON.stringify(p)),Se(),Dl(),c.success("设置保存成功"),Ge.value=!1}catch(s){console.error("保存设置失败:",s),c.error("保存设置失败")}finally{q.value=!1}},Bl=L(()=>uo()),el=f(!1),ll=f("overview");return{isMobile:e,isCollapse:Be,userInfo:m,profileForm:J,dashboardStats:Q,getCurrentMenuTitle:V,handleCommand:ge,verifyForm:E,verifyRules:z,verifyFormRef:Pe,canteens:ne,availableWindows:ae,handleVerify:_e,verifyDialogVisible:n,verifying:pe,notifications:P,unreadCount:O,markAsRead:Ve,markAllAsRead:R,clearNotifications:ke,todos:G,completedTodos:h,addTodo:ze,deleteTodo:Oe,passwordDialogVisible:$,passwordFormRef:ue,passwordForm:D,passwordRules:a,changing:fe,changePassword:We,hasLength:Fe,hasNumber:j,hasLetter:he,hasSpecial:Ce,passwordStrength:A,strengthText:He,NOTIFICATION_TYPES:Le,activeNotificationType:se,notificationTypes:Me,filteredNotifications:ie,handleNotificationClick:Ee,profileDialogVisible:te,profileFormRef:we,saving:q,saveProfile:ul,showNotifications:fl,notificationIconShaking:ee,settingsDialogVisible:Ge,settingsForm:p,themeColors:Qe,applyTheme:Se,adjustColor:hl,getRecommendedContentColors:Je,activeSettingTab:yl,storageUsage:cl,usedStorage:vl,totalStorage:pl,formatSize:gl,formatStorage:wl,resetSettings:bl,settingsFormRef:_l,logDialogVisible:k,analysisDialogVisible:W,activeAnalysis:v,logType:N,logDateRange:b,systemLogs:I,showQuickPanel:Ke,uploadAvatarUrl:Ie,handleAvatarSuccess:be,beforeAvatarUpload:Te,avatarPreviewVisible:Ze,fileInput:Xe,previewAvatar:Vl,triggerFileInput:kl,handleFileChange:Fl,playNotificationSound:je,handleNewNotification:de,audioContext:w,notificationSounds:Y,playPreviewSound:Sl,handleSoundUpload:Cl,deleteSound:xl,loadPresetSounds:$e,saveSettings:Ul,isSuperAdmin:Bl,helpDialogVisible:el,activeHelpSection:ll,handleHelpSelect:s=>{ll.value=s},downloadUserManual:()=>{c.success("用户手册下载中...")}}}},mo={class:"header-left"},co={class:"header-right"},vo={class:"user-info"},po={class:"username"},go={class:"quick-panel-header"},wo={class:"quick-actions"},bo={class:"profile-container"},_o={class:"profile-avatar-section"},yo={class:"avatar-uploader"},Vo=["src"],ko={class:"profile-section"},Fo={class:"profile-section"},ho={class:"profile-section"},Co={key:0,class:"password-strength"},So={class:"strength-bars"},xo={class:"strength-text"},Do={class:"password-tips"},Uo={class:"settings-section"},Bo={class:"theme-settings"},Po={class:"color-section"},Io={class:"color-options"},To=["onClick"],Ao={class:"color-info"},Lo={class:"color-name"},Mo={class:"color-desc"},No={class:"color-section"},Eo={class:"color-options"},Ro=["onClick"],qo={class:"color-info"},zo={class:"color-name"},Oo={class:"color-desc"},Ho={class:"settings-section"},Wo={class:"settings-section"},Qo={class:"backup-settings"},Jo={class:"backup-actions"},Go={class:"storage-info"},jo={class:"storage-item"},Yo={class:"value"},Ko={class:"storage-item"},Zo={class:"value"},Xo={class:"settings-section"},$o={class:"dialog-footer"},et={class:"log-filters"},lt={class:"chart-container"},ot={ref:"salesChart",style:{height:"400px"}},tt={class:"chart-container"},nt={ref:"dishesChart",style:{height:"400px"}},at={class:"chart-container"},st={ref:"trafficChart",style:{height:"400px"}},it={class:"avatar-preview-container"},rt=["src"],dt={class:"preview-actions"},ut={class:"help-container"},ft={class:"help-nav"},mt={class:"help-content"},ct={class:"help-content"},vt={key:0,class:"help-section"},pt={key:1,class:"help-section"},gt={key:2,class:"help-section"},wt={key:3,class:"help-section"},bt={key:4,class:"help-section"},_t={key:5,class:"help-section"},yt={key:6,class:"help-section"},Vt={class:"help-text"},kt={class:"help-footer"};function Ft(B,e,Be,n,pe,Pe){const k=r("el-option"),W=r("el-select"),v=r("el-form-item"),N=r("el-form"),b=r("el-button"),I=r("el-dialog"),K=r("Dish"),m=r("el-icon"),V=r("el-menu-item"),ge=r("Calendar"),oe=r("List"),Q=r("Shop"),te=r("DataBoard"),we=r("Box"),q=r("User"),J=r("el-menu"),Ie=r("el-aside"),be=r("el-breadcrumb-item"),Te=r("el-breadcrumb"),Ae=r("el-avatar"),E=r("CaretBottom"),z=r("el-dropdown-item"),ne=r("Lock"),ae=r("Setting"),_e=r("QuestionFilled"),Le=r("ChatDotRound"),se=r("SwitchButton"),Me=r("el-dropdown-menu"),P=r("el-dropdown"),O=r("el-header"),ye=r("router-view"),Ne=r("Close"),ie=r("Plus"),Ee=r("Warning"),re=r("el-card"),Re=r("el-main"),qe=r("el-footer"),w=r("el-container"),F=r("el-input"),T=r("el-col"),de=r("el-row"),Z=r("el-descriptions-item"),X=r("el-tag"),Ve=r("el-descriptions"),R=r("el-tab-pane"),ke=r("el-radio"),G=r("el-radio-group"),h=r("el-switch"),x=r("el-divider"),ze=r("el-slider"),Oe=r("el-time-picker"),$=r("Download"),ue=r("Delete"),fe=r("el-progress"),D=r("el-tabs"),Fe=r("el-date-picker"),j=r("el-table-column"),he=r("el-table"),Ce=r("Document"),A=r("el-collapse-item"),He=r("el-collapse");return _(),y("div",{class:M(["admin-layout",{mobile:n.isMobile}])},[o(I,{title:"管理员身份验证",modelValue:n.verifyDialogVisible,"onUpdate:modelValue":e[2]||(e[2]=a=>n.verifyDialogVisible=a),"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,width:"500px"},{footer:t(()=>[o(b,{type:"primary",onClick:n.handleVerify,loading:n.verifying},{default:t(()=>e[55]||(e[55]=[d(" 确认身份 ")])),_:1},8,["onClick","loading"])]),default:t(()=>[o(N,{model:n.verifyForm,rules:n.verifyRules,ref:"verifyFormRef","label-width":"100px"},{default:t(()=>[o(v,{label:"所属餐厅",prop:"canteen"},{default:t(()=>[o(W,{modelValue:n.verifyForm.canteen,"onUpdate:modelValue":e[0]||(e[0]=a=>n.verifyForm.canteen=a),placeholder:"请选择所属餐厅",class:"full-width"},{default:t(()=>[(_(!0),y(ce,null,ve(n.canteens,a=>(_(),Ue(k,{key:a.id,label:a.name,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(v,{label:"所属窗口",prop:"window"},{default:t(()=>[o(W,{modelValue:n.verifyForm.window,"onUpdate:modelValue":e[1]||(e[1]=a=>n.verifyForm.window=a),placeholder:"请选择所属窗口",disabled:!n.verifyForm.canteen,class:"full-width"},{default:t(()=>[(_(!0),y(ce,null,ve(n.availableWindows,a=>(_(),Ue(k,{key:a.id,label:a.name,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"]),o(w,null,{default:t(()=>[o(Ie,{width:n.isMobile?n.isCollapse?"64px":"200px":"240px",class:"aside"},{default:t(()=>[e[63]||(e[63]=l("div",{class:"logo-container"},[l("img",{src:"https://ts1.cn.mm.bing.net/th/id/R-C.01105e6f89184c277c662f33cd977751?rik=yt%2btmFKbjD8EVg&riu=http%3a%2f%2ftqedu.net%2fUploadFiles%2f2020%2f12%2f202012101555445729.png&ehk=%2fViGN%2b4wOxRaLLnLMUSFsczf60lAW2Ycm8qzXmB7MWQ%3d&risl=&pid=ImgRaw&r=0",alt:"GUET",class:"logo"}),l("h1",{class:"title"},"智慧食堂管理系统")],-1)),o(J,{router:"","default-active":B.$route.path,class:"menu","background-color":n.settingsForm.navColor,"text-color":"#fff","active-text-color":"#ffd04b"},{default:t(()=>[o(V,{index:"/admin/dishes"},{default:t(()=>[o(m,null,{default:t(()=>[o(K)]),_:1}),e[56]||(e[56]=l("span",null,"菜品管理",-1))]),_:1}),o(V,{index:"/admin/menus"},{default:t(()=>[o(m,null,{default:t(()=>[o(ge)]),_:1}),e[57]||(e[57]=l("span",null,"菜单管理",-1))]),_:1}),o(V,{index:"/admin/orders"},{default:t(()=>[o(m,null,{default:t(()=>[o(oe)]),_:1}),e[58]||(e[58]=l("span",null,"订单管理",-1))]),_:1}),o(V,{index:"/admin/windows"},{default:t(()=>[o(m,null,{default:t(()=>[o(Q)]),_:1}),e[59]||(e[59]=l("span",null,"窗口管理",-1))]),_:1}),o(V,{index:"/admin/dashboard"},{default:t(()=>[o(m,null,{default:t(()=>[o(te)]),_:1}),e[60]||(e[60]=l("span",null,"数据看板",-1))]),_:1}),o(V,{index:"/admin/inventory"},{default:t(()=>[o(m,null,{default:t(()=>[o(we)]),_:1}),e[61]||(e[61]=l("span",null,"库存管理",-1))]),_:1}),o(V,{index:"/admin/staff"},{default:t(()=>[o(m,null,{default:t(()=>[o(q)]),_:1}),e[62]||(e[62]=l("span",null,"员工管理",-1))]),_:1})]),_:1},8,["default-active","background-color"])]),_:1},8,["width"]),o(w,null,{default:t(()=>[o(O,{class:M(["header",{mobile:n.isMobile}])},{default:t(()=>[l("div",mo,[o(Te,{separator:"/"},{default:t(()=>[o(be,{to:{path:"/admin/dishes"}},{default:t(()=>e[64]||(e[64]=[d("首页")])),_:1}),o(be,null,{default:t(()=>[d(S(n.getCurrentMenuTitle()),1)]),_:1})]),_:1})]),l("div",co,[o(P,{trigger:"click",onCommand:n.handleCommand},{dropdown:t(()=>[o(Me,null,{default:t(()=>[o(z,{command:"profile"},{default:t(()=>[o(m,null,{default:t(()=>[o(q)]),_:1}),e[65]||(e[65]=d(" 个人信息 "))]),_:1}),o(z,{command:"password"},{default:t(()=>[o(m,null,{default:t(()=>[o(ne)]),_:1}),e[66]||(e[66]=d(" 修改密码 "))]),_:1}),o(z,{command:"settings"},{default:t(()=>[o(m,null,{default:t(()=>[o(ae)]),_:1}),e[67]||(e[67]=d(" 系统设置 "))]),_:1}),o(z,{command:"help"},{default:t(()=>[o(m,null,{default:t(()=>[o(_e)]),_:1}),e[68]||(e[68]=d(" 使用帮助 "))]),_:1}),o(z,{command:"feedback"},{default:t(()=>[o(m,null,{default:t(()=>[o(Le)]),_:1}),e[69]||(e[69]=d(" 问题反馈 "))]),_:1}),o(z,{divided:"",command:"logout"},{default:t(()=>[o(m,null,{default:t(()=>[o(se)]),_:1}),e[70]||(e[70]=d(" 退出登录 "))]),_:1})]),_:1})]),default:t(()=>[l("span",vo,[o(Ae,{size:32,src:n.profileForm.avatar,icon:n.profileForm.avatar?"":"UserFilled"},null,8,["src","icon"]),l("span",po,S(n.profileForm.username),1),o(m,null,{default:t(()=>[o(E)]),_:1})])]),_:1},8,["onCommand"])])]),_:1},8,["class"]),o(Re,{class:M(["main",{mobile:n.isMobile}])},{default:t(()=>[o(ye,null,{default:t(({Component:a})=>[o(to,{name:"fade",mode:"out-in"},{default:t(()=>[(_(),Ue(ro(a)))]),_:2},1024)]),_:1}),no(o(re,{class:"quick-panel"},{header:t(()=>[l("div",go,[e[71]||(e[71]=l("span",null,"快捷操作",-1)),o(b,{link:"",onClick:e[3]||(e[3]=a=>n.showQuickPanel=!1)},{default:t(()=>[o(m,null,{default:t(()=>[o(Ne)]),_:1})]),_:1})])]),default:t(()=>[l("div",wo,[o(b,{type:"primary",onClick:e[4]||(e[4]=a=>B.quickAdd("dish"))},{default:t(()=>[o(m,null,{default:t(()=>[o(ie)]),_:1}),e[72]||(e[72]=d("添加菜品 "))]),_:1}),o(b,{type:"success",onClick:e[5]||(e[5]=a=>B.quickAdd("menu"))},{default:t(()=>[o(m,null,{default:t(()=>[o(ie)]),_:1}),e[73]||(e[73]=d("添加菜单 "))]),_:1}),o(b,{type:"warning",onClick:e[6]||(e[6]=a=>B.quickView("orders"))},{default:t(()=>[o(m,null,{default:t(()=>[o(oe)]),_:1}),e[74]||(e[74]=d("待处理订单 "))]),_:1}),o(b,{type:"info",onClick:e[7]||(e[7]=a=>B.quickView("stock"))},{default:t(()=>[o(m,null,{default:t(()=>[o(Ee)]),_:1}),e[75]||(e[75]=d("库存预警 "))]),_:1})])]),_:1},512),[[ao,n.showQuickPanel]])]),_:1},8,["class"]),o(qe,{class:"footer"},{default:t(()=>[l("p",null,"Copyright © "+S(new Date().getFullYear())+" 桂林电子科技大学",1)]),_:1})]),_:1})]),_:1}),o(I,{title:"个人信息",modelValue:n.profileDialogVisible,"onUpdate:modelValue":e[19]||(e[19]=a=>n.profileDialogVisible=a),width:"600px"},{footer:t(()=>[o(b,{onClick:e[18]||(e[18]=a=>n.profileDialogVisible=!1)},{default:t(()=>e[82]||(e[82]=[d("取消")])),_:1}),o(b,{type:"primary",onClick:n.saveProfile,loading:n.saving},{default:t(()=>e[83]||(e[83]=[d("保存")])),_:1},8,["onClick","loading"])]),default:t(()=>[l("div",bo,[l("div",_o,[e[76]||(e[76]=l("h4",null,"头像设置",-1)),l("div",yo,[l("input",{type:"file",ref:"fileInput",accept:"image/*",style:{display:"none"},onChange:e[8]||(e[8]=(...a)=>n.handleFileChange&&n.handleFileChange(...a))},null,544),l("div",{class:"upload-area",onClick:e[10]||(e[10]=(...a)=>n.triggerFileInput&&n.triggerFileInput(...a))},[n.profileForm.avatar?(_(),y("img",{key:0,src:n.profileForm.avatar,class:"avatar-image",onClick:e[9]||(e[9]=so((...a)=>n.previewAvatar&&n.previewAvatar(...a),["stop"]))},null,8,Vo)):(_(),Ue(m,{key:1,class:"avatar-uploader-icon"},{default:t(()=>[o(ie)]),_:1}))])]),e[77]||(e[77]=l("div",{class:"avatar-tips"},"点击图片更换头像",-1))]),l("div",ko,[e[78]||(e[78]=l("h4",null,"基本信息",-1)),o(N,{model:n.profileForm,"label-width":"100px"},{default:t(()=>[o(de,{gutter:20},{default:t(()=>[o(T,{span:12},{default:t(()=>[o(v,{label:"工号"},{default:t(()=>[o(F,{modelValue:n.profileForm.workId,"onUpdate:modelValue":e[11]||(e[11]=a=>n.profileForm.workId=a),disabled:""},null,8,["modelValue"])]),_:1})]),_:1}),o(T,{span:12},{default:t(()=>[o(v,{label:"姓名"},{default:t(()=>[o(F,{modelValue:n.profileForm.name,"onUpdate:modelValue":e[12]||(e[12]=a=>n.profileForm.name=a)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),o(de,{gutter:20},{default:t(()=>[o(T,{span:12},{default:t(()=>[o(v,{label:"所属餐厅"},{default:t(()=>[o(F,{modelValue:n.profileForm.canteen,"onUpdate:modelValue":e[13]||(e[13]=a=>n.profileForm.canteen=a),disabled:""},null,8,["modelValue"])]),_:1})]),_:1}),o(T,{span:12},{default:t(()=>[o(v,{label:"管理窗口"},{default:t(()=>[o(F,{modelValue:n.profileForm.window,"onUpdate:modelValue":e[14]||(e[14]=a=>n.profileForm.window=a),disabled:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),l("div",Fo,[e[79]||(e[79]=l("h4",null,"联系方��",-1)),o(N,{model:n.profileForm,"label-width":"100px"},{default:t(()=>[o(de,{gutter:20},{default:t(()=>[o(T,{span:12},{default:t(()=>[o(v,{label:"手机码"},{default:t(()=>[o(F,{modelValue:n.profileForm.phone,"onUpdate:modelValue":e[15]||(e[15]=a=>n.profileForm.phone=a),maxlength:"11"},null,8,["modelValue"])]),_:1})]),_:1}),o(T,{span:12},{default:t(()=>[o(v,{label:"电子邮箱"},{default:t(()=>[o(F,{modelValue:n.profileForm.email,"onUpdate:modelValue":e[16]||(e[16]=a=>n.profileForm.email=a),type:"email"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),o(v,{label:"紧急联系人"},{default:t(()=>[o(F,{modelValue:n.profileForm.emergencyContact,"onUpdate:modelValue":e[17]||(e[17]=a=>n.profileForm.emergencyContact=a)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),l("div",ho,[e[81]||(e[81]=l("h4",null,"工作信息",-1)),o(Ve,{column:2,border:""},{default:t(()=>[o(Z,{label:"入职时间"},{default:t(()=>[d(S(n.profileForm.joinDate),1)]),_:1}),o(Z,{label:"工作状态"},{default:t(()=>[o(X,{type:"success"},{default:t(()=>e[80]||(e[80]=[d("在职")])),_:1})]),_:1}),o(Z,{label:"工作时间"},{default:t(()=>[d(S(n.profileForm.workHours),1)]),_:1}),o(Z,{label:"休息日"},{default:t(()=>[d(S(n.profileForm.restDays),1)]),_:1})]),_:1})])])]),_:1},8,["modelValue"]),o(I,{title:"修改密码",modelValue:n.passwordDialogVisible,"onUpdate:modelValue":e[24]||(e[24]=a=>n.passwordDialogVisible=a),width:"500px"},{footer:t(()=>[o(b,{onClick:e[23]||(e[23]=a=>n.passwordDialogVisible=!1)},{default:t(()=>e[86]||(e[86]=[d("取消")])),_:1}),o(b,{type:"primary",onClick:n.changePassword,loading:n.changing},{default:t(()=>e[87]||(e[87]=[d(" 确认修改 ")])),_:1},8,["onClick","loading"])]),default:t(()=>[o(N,{model:n.passwordForm,rules:n.passwordRules,ref:"passwordFormRef","label-width":"100px"},{default:t(()=>[o(v,{label:"原密码",prop:"oldPassword"},{default:t(()=>[o(F,{modelValue:n.passwordForm.oldPassword,"onUpdate:modelValue":e[20]||(e[20]=a=>n.passwordForm.oldPassword=a),type:"password",placeholder:"请输入原密码","show-password":""},null,8,["modelValue"])]),_:1}),o(v,{label:"新密码",prop:"newPassword"},{default:t(()=>[o(F,{modelValue:n.passwordForm.newPassword,"onUpdate:modelValue":e[21]||(e[21]=a=>n.passwordForm.newPassword=a),type:"password",placeholder:"密码长度不少于6位","show-password":""},null,8,["modelValue"]),n.passwordForm.newPassword?(_(),y("div",Co,[e[84]||(e[84]=l("div",{class:"strength-label"},"密码强度",-1)),l("div",So,[(_(),y(ce,null,ve(3,a=>l("div",{key:a,class:M(["strength-bar",{active:n.passwordStrength>=a}])},null,2)),64))]),l("span",xo,S(n.strengthText),1)])):H("",!0)]),_:1}),o(v,{label:"确认密码",prop:"confirmPassword"},{default:t(()=>[o(F,{modelValue:n.passwordForm.confirmPassword,"onUpdate:modelValue":e[22]||(e[22]=a=>n.passwordForm.confirmPassword=a),type:"password",placeholder:"请次输入新密码","show-password":""},null,8,["modelValue"])]),_:1}),l("div",Do,[e[85]||(e[85]=l("h4",null,"密码要求：",-1)),l("ul",null,[l("li",{class:M({valid:n.hasLength})},"长度至少6位",2),l("li",{class:M({valid:n.hasNumber})},"包含数字",2),l("li",{class:M({valid:n.hasLetter})},"包含字母",2),l("li",{class:M({valid:n.hasSpecial})},"包含特殊字符",2)])])]),_:1},8,["model","rules"])]),_:1},8,["modelValue"]),o(I,{title:"系统设置",modelValue:n.settingsDialogVisible,"onUpdate:modelValue":e[45]||(e[45]=a=>n.settingsDialogVisible=a),width:"800px"},{footer:t(()=>[l("div",$o,[o(b,{onClick:n.resetSettings},{default:t(()=>e[103]||(e[103]=[d("恢复默认")])),_:1},8,["onClick"]),o(b,{onClick:e[44]||(e[44]=a=>n.settingsDialogVisible=!1)},{default:t(()=>e[104]||(e[104]=[d("取消")])),_:1}),o(b,{type:"primary",onClick:n.saveSettings,loading:n.saving},{default:t(()=>e[105]||(e[105]=[d(" 保存设置 ")])),_:1},8,["onClick","loading"])])]),default:t(()=>[o(D,{modelValue:n.activeSettingTab,"onUpdate:modelValue":e[43]||(e[43]=a=>n.activeSettingTab=a)},{default:t(()=>[o(R,{label:"主题设置",name:"theme"},{default:t(()=>[l("div",Uo,[e[90]||(e[90]=l("div",{class:"theme-preview"},[l("div",{class:"preview-aside",style:{background:"var(--nav-background)"}},[l("div",{class:"preview-logo"}),l("div",{class:"preview-menu"})]),l("div",{class:"preview-main",style:{background:"var(--content-background)"}},[l("div",{class:"preview-header"}),l("div",{class:"preview-content"},[l("div",{class:"preview-card"}),l("div",{class:"preview-card"})])])],-1)),l("div",Bo,[l("div",Po,[e[88]||(e[88]=l("h5",null,"导航栏颜色",-1)),l("div",Io,[(_(!0),y(ce,null,ve(n.themeColors.nav,a=>(_(),y("div",{key:a.value,class:M(["color-option",{active:n.settingsForm.navColor===a.value}]),onClick:We=>n.settingsForm.navColor=a.value},[l("div",{class:"color-block",style:dl({background:`linear-gradient(to right, ${a.value}, ${n.adjustColor(a.value,20)})`})},null,4),l("div",Ao,[l("span",Lo,S(a.label),1),l("span",Mo,S(a.description),1)])],10,To))),128))])]),l("div",No,[e[89]||(e[89]=l("h5",null,"内容区域颜色",-1)),l("div",Eo,[(_(!0),y(ce,null,ve(n.themeColors.content,a=>(_(),y("div",{key:a.value,class:M(["color-option",{active:n.settingsForm.contentColor===a.value,recommended:n.getRecommendedContentColors.includes(a.value)}]),onClick:We=>n.settingsForm.contentColor=a.value},[l("div",{class:"color-block",style:dl({background:`linear-gradient(to bottom right, ${a.value}, ${n.adjustColor(a.value,-5)})`})},null,4),l("div",qo,[l("span",zo,S(a.label),1),l("span",Oo,S(a.description),1)])],10,Ro))),128))])])])])]),_:1}),o(R,{label:"界面设置",name:"interface"},{default:t(()=>[l("div",Ho,[o(N,{model:n.settingsForm,"label-width":"120px"},{default:t(()=>[e[93]||(e[93]=l("h4",null,"布局设置",-1)),o(v,{label:"菜单展开方式"},{default:t(()=>[o(G,{modelValue:n.settingsForm.menuMode,"onUpdate:modelValue":e[25]||(e[25]=a=>n.settingsForm.menuMode=a)},{default:t(()=>[o(ke,{label:"vertical"},{default:t(()=>e[91]||(e[91]=[d("垂直展开")])),_:1}),o(ke,{label:"horizontal"},{default:t(()=>e[92]||(e[92]=[d("水平展开")])),_:1})]),_:1},8,["modelValue"])]),_:1}),o(v,{label:"菜单折叠"},{default:t(()=>[o(h,{modelValue:n.settingsForm.menuCollapse,"onUpdate:modelValue":e[26]||(e[26]=a=>n.settingsForm.menuCollapse=a)},null,8,["modelValue"])]),_:1}),o(v,{label:"固定头部"},{default:t(()=>[o(h,{modelValue:n.settingsForm.fixedHeader,"onUpdate:modelValue":e[27]||(e[27]=a=>n.settingsForm.fixedHeader=a)},null,8,["modelValue"])]),_:1}),o(v,{label:"显示面包屑"},{default:t(()=>[o(h,{modelValue:n.settingsForm.showBreadcrumb,"onUpdate:modelValue":e[28]||(e[28]=a=>n.settingsForm.showBreadcrumb=a)},null,8,["modelValue"])]),_:1}),o(v,{label:"显示页脚"},{default:t(()=>[o(h,{modelValue:n.settingsForm.showFooter,"onUpdate:modelValue":e[29]||(e[29]=a=>n.settingsForm.showFooter=a)},null,8,["modelValue"])]),_:1}),o(x),e[94]||(e[94]=l("h4",null,"显示设置",-1)),o(v,{label:"页面动画"},{default:t(()=>[o(h,{modelValue:n.settingsForm.enableAnimation,"onUpdate:modelValue":e[30]||(e[30]=a=>n.settingsForm.enableAnimation=a)},null,8,["modelValue"])]),_:1}),o(v,{label:"字体大小"},{default:t(()=>[o(ze,{modelValue:n.settingsForm.fontSize,"onUpdate:modelValue":e[31]||(e[31]=a=>n.settingsForm.fontSize=a),min:12,max:18,step:1,"show-input":""},null,8,["modelValue"])]),_:1}),o(v,{label:"紧凑模式"},{default:t(()=>[o(h,{modelValue:n.settingsForm.compactMode,"onUpdate:modelValue":e[32]||(e[32]=a=>n.settingsForm.compactMode=a)},null,8,["modelValue"])]),_:1}),o(v,{label:"快捷操作"},{default:t(()=>[o(h,{modelValue:n.settingsForm.showQuickActions,"onUpdate:modelValue":e[33]||(e[33]=a=>n.settingsForm.showQuickActions=a)},null,8,["modelValue"])]),_:1}),o(v,{label:"深色模式"},{default:t(()=>[o(h,{modelValue:n.settingsForm.darkMode,"onUpdate:modelValue":e[34]||(e[34]=a=>n.settingsForm.darkMode=a)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])]),_:1}),o(R,{label:"数据管理",name:"data"},{default:t(()=>[l("div",Wo,[e[99]||(e[99]=l("h4",null,"数据备份",-1)),l("div",Qo,[o(N,{model:n.settingsForm,"label-width":"120px"},{default:t(()=>[o(v,{label:"自动备份"},{default:t(()=>[o(h,{modelValue:n.settingsForm.autoBackup,"onUpdate:modelValue":e[35]||(e[35]=a=>n.settingsForm.autoBackup=a)},null,8,["modelValue"])]),_:1}),o(v,{label:"备份周期"},{default:t(()=>[o(W,{modelValue:n.settingsForm.backupInterval,"onUpdate:modelValue":e[36]||(e[36]=a=>n.settingsForm.backupInterval=a),disabled:!n.settingsForm.autoBackup},{default:t(()=>[o(k,{label:"每天",value:"daily"}),o(k,{label:"每周",value:"weekly"}),o(k,{label:"每月",value:"monthly"})]),_:1},8,["modelValue","disabled"])]),_:1}),o(v,{label:"备份时间"},{default:t(()=>[o(Oe,{modelValue:n.settingsForm.backupTime,"onUpdate:modelValue":e[37]||(e[37]=a=>n.settingsForm.backupTime=a),disabled:!n.settingsForm.autoBackup,format:"HH:mm",placeholder:"选择时间"},null,8,["modelValue","disabled"])]),_:1})]),_:1},8,["model"]),l("div",Jo,[o(b,{type:"primary",onClick:B.backupData},{default:t(()=>[o(m,null,{default:t(()=>[o($)]),_:1}),e[95]||(e[95]=d("立即备份 "))]),_:1},8,["onClick"]),o(b,{type:"warning",onClick:B.clearCache},{default:t(()=>[o(m,null,{default:t(()=>[o(ue)]),_:1}),e[96]||(e[96]=d("清除缓存 "))]),_:1},8,["onClick"])])]),o(x),e[100]||(e[100]=l("h4",null,"数据存储",-1)),o(fe,{percentage:n.storageUsage,format:n.formatStorage},null,8,["percentage","format"]),l("div",Go,[l("div",jo,[e[97]||(e[97]=l("span",{class:"label"},"已用空间",-1)),l("span",Yo,S(n.formatSize(n.usedStorage)),1)]),l("div",Ko,[e[98]||(e[98]=l("span",{class:"label"},"总空间",-1)),l("span",Zo,S(n.formatSize(n.totalStorage)),1)])])])]),_:1}),o(R,{label:"隐私安全",name:"security"},{default:t(()=>[l("div",Xo,[o(N,{model:n.settingsForm,"label-width":"120px"},{default:t(()=>[e[101]||(e[101]=l("h4",null,"登录安全",-1)),o(v,{label:"登录验证"},{default:t(()=>[o(h,{modelValue:n.settingsForm.loginVerification,"onUpdate:modelValue":e[38]||(e[38]=a=>n.settingsForm.loginVerification=a)},null,8,["modelValue"])]),_:1}),o(v,{label:"记住登录"},{default:t(()=>[o(h,{modelValue:n.settingsForm.rememberLogin,"onUpdate:modelValue":e[39]||(e[39]=a=>n.settingsForm.rememberLogin=a)},null,8,["modelValue"])]),_:1}),o(v,{label:"自动锁屏"},{default:t(()=>[o(W,{modelValue:n.settingsForm.autoLockTime,"onUpdate:modelValue":e[40]||(e[40]=a=>n.settingsForm.autoLockTime=a)},{default:t(()=>[o(k,{label:"从不",value:"0"}),o(k,{label:"5分钟",value:"5"}),o(k,{label:"10分钟",value:"10"}),o(k,{label:"30分钟",value:"30"})]),_:1},8,["modelValue"])]),_:1}),o(x),e[102]||(e[102]=l("h4",null,"操作安全",-1)),o(v,{label:"操作确认"},{default:t(()=>[o(h,{modelValue:n.settingsForm.operationConfirm,"onUpdate:modelValue":e[41]||(e[41]=a=>n.settingsForm.operationConfirm=a)},null,8,["modelValue"])]),_:1}),o(v,{label:"敏感操作验证"},{default:t(()=>[o(h,{modelValue:n.settingsForm.sensitiveOperationVerify,"onUpdate:modelValue":e[42]||(e[42]=a=>n.settingsForm.sensitiveOperationVerify=a)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]),o(I,{title:"系统日志",modelValue:n.logDialogVisible,"onUpdate:modelValue":e[48]||(e[48]=a=>n.logDialogVisible=a),width:"800px"},{default:t(()=>[l("div",et,[o(W,{modelValue:n.logType,"onUpdate:modelValue":e[46]||(e[46]=a=>n.logType=a),placeholder:"日志类型"},{default:t(()=>[o(k,{label:"全部",value:"all"}),o(k,{label:"操作日志",value:"operation"}),o(k,{label:"系统日志",value:"system"}),o(k,{label:"错误日志",value:"error"})]),_:1},8,["modelValue"]),o(Fe,{modelValue:n.logDateRange,"onUpdate:modelValue":e[47]||(e[47]=a=>n.logDateRange=a),type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},null,8,["modelValue"])]),o(he,{data:n.systemLogs,height:"400"},{default:t(()=>[o(j,{prop:"timestamp",label:"时间",width:"180"}),o(j,{prop:"type",label:"类型",width:"100"}),o(j,{prop:"user",label:"操作人",width:"120"}),o(j,{prop:"content",label:"内容"})]),_:1},8,["data"])]),_:1},8,["modelValue"]),o(I,{title:"数据分析",modelValue:n.analysisDialogVisible,"onUpdate:modelValue":e[50]||(e[50]=a=>n.analysisDialogVisible=a),width:"900px"},{default:t(()=>[o(D,{modelValue:n.activeAnalysis,"onUpdate:modelValue":e[49]||(e[49]=a=>n.activeAnalysis=a)},{default:t(()=>[o(R,{label:"销售趋势",name:"sales"},{default:t(()=>[l("div",lt,[l("div",ot,null,512)])]),_:1}),o(R,{label:"菜品分析",name:"dishes"},{default:t(()=>[l("div",tt,[l("div",nt,null,512)])]),_:1}),o(R,{label:"客流分析",name:"traffic"},{default:t(()=>[l("div",at,[l("div",st,null,512)])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]),o(I,{modelValue:n.avatarPreviewVisible,"onUpdate:modelValue":e[52]||(e[52]=a=>n.avatarPreviewVisible=a),title:"头像预览",width:"400px","align-center":""},{default:t(()=>[l("div",it,[l("img",{src:n.profileForm.avatar,class:"preview-image"},null,8,rt)]),l("div",dt,[o(b,{onClick:e[51]||(e[51]=a=>n.avatarPreviewVisible=!1)},{default:t(()=>e[106]||(e[106]=[d("关闭")])),_:1}),o(b,{type:"primary",onClick:n.triggerFileInput},{default:t(()=>e[107]||(e[107]=[d("重新上传")])),_:1},8,["onClick"])])]),_:1},8,["modelValue"]),o(I,{title:"使用帮助",modelValue:n.helpDialogVisible,"onUpdate:modelValue":e[54]||(e[54]=a=>n.helpDialogVisible=a),width:"800px",class:"help-dialog"},{footer:t(()=>[l("div",kt,[o(b,{onClick:e[53]||(e[53]=a=>n.helpDialogVisible=!1)},{default:t(()=>e[133]||(e[133]=[d("关闭")])),_:1}),o(b,{type:"primary",onClick:n.downloadUserManual},{default:t(()=>[o(m,null,{default:t(()=>[o($)]),_:1}),e[134]||(e[134]=d(" 下载完整手册 "))]),_:1},8,["onClick"])])]),default:t(()=>[l("div",ut,[l("div",ft,[o(J,{"default-active":n.activeHelpSection,onSelect:n.handleHelpSelect},{default:t(()=>[o(V,{index:"overview"},{default:t(()=>[o(m,null,{default:t(()=>[o(Ce)]),_:1}),e[108]||(e[108]=d(" 系统概览 "))]),_:1}),o(V,{index:"dishes"},{default:t(()=>[o(m,null,{default:t(()=>[o(K)]),_:1}),e[109]||(e[109]=d(" 菜品管理 "))]),_:1}),o(V,{index:"menus"},{default:t(()=>[o(m,null,{default:t(()=>[o(ge)]),_:1}),e[110]||(e[110]=d(" 菜单管理 "))]),_:1}),o(V,{index:"orders"},{default:t(()=>[o(m,null,{default:t(()=>[o(oe)]),_:1}),e[111]||(e[111]=d(" 订单管理 "))]),_:1}),o(V,{index:"inventory"},{default:t(()=>[o(m,null,{default:t(()=>[o(we)]),_:1}),e[112]||(e[112]=d(" 库存管理 "))]),_:1}),o(V,{index:"settings"},{default:t(()=>[o(m,null,{default:t(()=>[o(ae)]),_:1}),e[113]||(e[113]=d(" 系统设置 "))]),_:1}),o(V,{index:"faq"},{default:t(()=>[o(m,null,{default:t(()=>[o(_e)]),_:1}),e[114]||(e[114]=d(" 常见问题 "))]),_:1})]),_:1},8,["default-active","onSelect"])]),l("div",mt,[l("div",ct,[n.activeHelpSection==="overview"?(_(),y("div",vt,[e[115]||(e[115]=l("h3",null,"系统概览",-1)),o(x),e[116]||(e[116]=l("div",{class:"help-text"},[l("h4",null,"系统简介"),l("p",null,"智慧食堂管理系统是一个现代化的餐饮管理平台，致力于提供高效、便捷的食堂运营解决方案。"),l("h4",null,"主要功能"),l("ul",null,[l("li",null,"菜品管理：添加、编辑和管理菜品信息，包括价格、库存等"),l("li",null,"菜单管理：制定和发布每日菜单，灵活调整菜品组合"),l("li",null,"订单管理：实时处理和跟踪订单状态，提高服务效率"),l("li",null,"库存管理：监控和管理食材库存，及时补充物料"),l("li",null,"数据统计：查看销售和运营数据，辅助决策分析")]),l("h4",null,"快速入门"),l("ol",null,[l("li",null,"登录系统：使用工号和密码登录"),l("li",null,"身份验证：选择所属餐厅和窗口"),l("li",null,"功能导航：使用左侧菜单访问各个功能模块"),l("li",null,"个人设置：右上角可进行个人信息设置")])],-1))])):H("",!0),n.activeHelpSection==="dishes"?(_(),y("div",pt,[e[117]||(e[117]=l("h3",null,"菜品管理",-1)),o(x),e[118]||(e[118]=l("div",{class:"help-text"},[l("h4",null,"添加菜品"),l("ol",null,[l("li",null,'点击"添加菜品"按钮'),l("li",null,[d("填写菜品基本信息： "),l("ul",null,[l("li",null,"名称：输入菜品名称"),l("li",null,"价格：设置菜品价格"),l("li",null,"分类：选择所属分类"),l("li",null,"描述：添加菜品描述")])]),l("li",null,"上传菜品图片：支持JPG、PNG格式"),l("li",null,"设置菜品状态：上架/下架"),l("li",null,"设置库存信息")]),l("h4",null,"编辑菜品"),l("ol",null,[l("li",null,"在菜品列表中找到需要编辑的菜品"),l("li",null,'点击"编辑"按钮'),l("li",null,"修改相关信息"),l("li",null,'点击"保存"确认修改')]),l("h4",null,"菜品状态管理"),l("ul",null,[l("li",null,"上架：菜品可供选购"),l("li",null,"下架：暂停销售"),l("li",null,"售罄：库存不足时自动显示")])],-1))])):H("",!0),n.activeHelpSection==="menus"?(_(),y("div",gt,[e[119]||(e[119]=l("h3",null,"菜单管理",-1)),o(x),e[120]||(e[120]=l("div",{class:"help-text"},[l("h4",null,"创建菜单"),l("ol",null,[l("li",null,"选择菜单日期"),l("li",null,[d("添加菜品到菜单： "),l("ul",null,[l("li",null,"从菜品库中选择"),l("li",null,"设置供应时段"),l("li",null,"设置供应数量")])]),l("li",null,"调整菜品顺序"),l("li",null,"发布菜单")]),l("h4",null,"菜单模板"),l("p",null,"可以将常用菜单保存为模板，方便快速创建："),l("ul",null,[l("li",null,"保存当前菜单为模板"),l("li",null,"使用模板创建菜单"),l("li",null,"管理模板列表")]),l("h4",null,"注意事项"),l("ul",null,[l("li",null,"菜单需提前一天发布"),l("li",null,"已发布菜单修改后需重新发布"),l("li",null,"注意检查菜品库存")])],-1))])):H("",!0),n.activeHelpSection==="orders"?(_(),y("div",wt,[e[121]||(e[121]=l("h3",null,"订单管理",-1)),o(x),e[122]||(e[122]=l("div",{class:"help-text"},[l("h4",null,"订单处理流程"),l("ol",null,[l("li",null,"接收新订单"),l("li",null,[d("确认订单： "),l("ul",null,[l("li",null,"检查订单内容"),l("li",null,"确认库存状态"),l("li",null,"查看备注信息")])]),l("li",null,"开始制作"),l("li",null,"完成订单")]),l("h4",null,"订单状态说明"),l("ul",null,[l("li",null,"待确认：新收到的订单"),l("li",null,"制作中：已确认正在制作"),l("li",null,"待取餐：制作完成等待取餐"),l("li",null,"已完成：订单已结束"),l("li",null,"已取消：订单被取消")]),l("h4",null,"特殊情况处理"),l("ul",null,[l("li",null,"缺货处理：及时联系顾客变更订单"),l("li",null,"退款处理：按流程申请退款"),l("li",null,"投诉处理：认真记录并及时处理")])],-1))])):H("",!0),n.activeHelpSection==="inventory"?(_(),y("div",bt,[e[123]||(e[123]=l("h3",null,"库存管理",-1)),o(x),e[124]||(e[124]=l("div",{class:"help-text"},[l("h4",null,"库存操作"),l("ul",null,[l("li",null,[d("入库管理： "),l("ol",null,[l("li",null,"登记新入库食材"),l("li",null,"记录入库数量和单价"),l("li",null,"设置保质期信息")])]),l("li",null,[d("出库管理： "),l("ol",null,[l("li",null,"记录日常消耗"),l("li",null,"处理损耗登记"),l("li",null,"盘点库存差异")])])]),l("h4",null,"库存预警"),l("ul",null,[l("li",null,"设置预警阈值"),l("li",null,"库存不足提醒"),l("li",null,"保质期预警")]),l("h4",null,"库存报表"),l("ul",null,[l("li",null,"库存盘点表"),l("li",null,"进销存报表"),l("li",null,"库存分析报告")])],-1))])):H("",!0),n.activeHelpSection==="settings"?(_(),y("div",_t,[e[125]||(e[125]=l("h3",null,"系统设置",-1)),o(x),e[126]||(e[126]=l("div",{class:"help-text"},[l("h4",null,"基本设置"),l("ul",null,[l("li",null,[d("主题设置： "),l("ul",null,[l("li",null,"选择主题颜色"),l("li",null,"调整界面布局"),l("li",null,"深色模式切换")])]),l("li",null,[d("通知设置： "),l("ul",null,[l("li",null,"订单通知"),l("li",null,"库存预警"),l("li",null,"系统消息")])])]),l("h4",null,"安全设置"),l("ul",null,[l("li",null,"修改密码"),l("li",null,"登录验证"),l("li",null,"操作确认")]),l("h4",null,"数据管理"),l("ul",null,[l("li",null,"数据备份"),l("li",null,"清理缓存"),l("li",null,"导出报表")])],-1))])):H("",!0),n.activeHelpSection==="faq"?(_(),y("div",yt,[e[132]||(e[132]=l("h3",null,"常见问题",-1)),o(x),l("div",Vt,[o(He,{accordion:""},{default:t(()=>[o(A,{title:"1. 如何修改密码？",name:"1"},{default:t(()=>e[127]||(e[127]=[l("p",null,"1. 点击右上角头像",-1),l("p",null,'2. 选择"修改密码"选项',-1),l("p",null,"3. 输入原密码和新密码",-1),l("p",null,"4. 确认新密码并保存",-1),l("p",null,"注意：密码长度不少于6位，需包含字母和数字",-1)])),_:1}),o(A,{title:"2. 如何处理订单？",name:"2"},{default:t(()=>e[128]||(e[128]=[l("p",null,"1. 进入订单管理页面",-1),l("p",null,"2. 查看待处理订单列表",-1),l("p",null,"3. 点击订单进入详情页",-1),l("p",null,"4. 按照订单状态进行相应操作",-1),l("p",null,"5. 完成订单处理",-1)])),_:1}),o(A,{title:"3. 如何管理库存？",name:"3"},{default:t(()=>e[129]||(e[129]=[l("p",null,"1. 进入库存管理模块",-1),l("p",null,"2. 查看当前库存状态",-1),l("p",null,"3. 进行入库/出库操作",-1),l("p",null,"4. 设置库存预警值",-1),l("p",null,"5. 定期盘点库存",-1)])),_:1}),o(A,{title:"4. 系统无法登录怎么办？",name:"4"},{default:t(()=>e[130]||(e[130]=[l("p",null,"1. 检查网络连接",-1),l("p",null,"2. 确认账号密码是否正确",-1),l("p",null,"3. 清除浏览器缓存",-1),l("p",null,"4. 联系系统管理员",-1)])),_:1}),o(A,{title:"5. 如何导出数据报表？",name:"5"},{default:t(()=>e[131]||(e[131]=[l("p",null,"1. 进入相应的功能模块",-1),l("p",null,"2. 选择要导出的数据范围",-1),l("p",null,'3. 点击"导出"按钮',-1),l("p",null,"4. 选择导出格式（Excel/PDF）",-1),l("p",null,"5. 确认导出",-1)])),_:1})]),_:1})])])):H("",!0)])])])]),_:1},8,["modelValue"])],2)}const Dt=Pl(fo,[["render",Ft],["__scopeId","data-v-2e590d5c"]]);export{Dt as default};
