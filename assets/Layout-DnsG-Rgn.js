import{_ as Do,aH as No,a3 as Po,F as Bo,b as Ao,aI as Lo,aJ as Eo,a7 as Mo,aK as Ro,aL as zo,az as qo,aM as Oo,L as Wo,aN as Qo,aO as Ho,aP as jo,aQ as Jo,r as Yo,aR as Go,aS as Ko,aT as Zo,u as Xo,s as $o,f as el,aU as ol,aV as ll,g as f,h as he,o as uo,j as fo,V as R,at as Se,E as p,k as C,q as o,w as a,I as T,aa as me,x as r,y as _,B as m,H as Q,X as H,z,n as s,v as V,T as tl,aE as al,aW as nl,ax as mo,Z as Te,A as Xe,ap as co,C as sl}from"./index-1A1V_OG6.js";const il={name:"AdminLayout",components:{Dish:No,Calendar:Po,List:Bo,Shop:Ao,UserFilled:Lo,CaretBottom:Eo,Bell:Mo,Download:Ro,QuestionFilled:zo,ChatDotRound:qo,Delete:Oo,Plus:Wo,Close:Qo,Warning:Ho,ArrowUp:jo,ArrowDown:Jo,Refresh:Yo,DataBoard:Go,TrendCharts:Ko,Box:Zo,User:Xo,Setting:$o,Lock:el,SwitchButton:ol,VideoPlay:ll},setup(){var ao,no,so,io,ro;const h=sl(),e=f(!1),Ue=f(!1),l=f(!1),ce=f(!1),xe=f(null),k=f(!1),q=f(!1),u=f("sales"),D=f("all"),b=f([]),L=f([]),se=()=>{e.value=window.innerWidth<=768},c=f(JSON.parse(localStorage.getItem("user"))||{username:"",canteen:null,window:null}),N=()=>{const n=h.currentRoute.value.path;return{"/admin/dishes":"菜品管理","/admin/menus":"菜单管理","/admin/orders":"订单管理","/admin/windows":"窗口管理"}[n]||"首页"},Ie=n=>{switch(n){case"profile":ie.value=!0;break;case"password":A.value=!0;break;case"settings":Ke.value=!0;break;case"logout":ve();break}},ve=()=>{me.confirm("确定要退出登录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{localStorage.removeItem("user"),localStorage.removeItem("verifiedInfo"),h.push("/login")})},j=he({todayOrders:0,orderTrend:0,revenue:0,revenueTrend:0,topDishes:[],lowStockList:[]}),ie=f(!1),De=f(null),J=f(!1),Y=he({workId:"W2024001",username:((ao=c.value)==null?void 0:ao.username)||"默认用户名",name:"张三",phone:"13800138000",email:"zhangsan@example.com",canteen:((so=(no=c.value)==null?void 0:no.canteen)==null?void 0:so.name)||"",window:((ro=(io=c.value)==null?void 0:io.window)==null?void 0:ro.name)||"",department:"餐饮部",position:"窗口管理员",employeeId:"EMP2024001",status:"在职",joinDate:"2024-01-01",workHours:"09:00-17:00",restDays:"周六、周日",emergencyContact:"",emergencyPhone:"",emergencyRelation:"",skills:["收银","食品安全","客户服务"],certificates:["健康证","食��安全证"],performance:{attendance:"98%",satisfaction:"4.8",completeRate:"96%"},avatar:""}),Ne="https://api.example.com/upload/avatar",Pe=n=>{Y.avatar=n.url;const i=JSON.parse(localStorage.getItem("user")||"{}");i.avatar=n.url,localStorage.setItem("user",JSON.stringify(i)),p.success("头像上传成功")},pe=n=>{const i=/^image\//.test(n.type),d=n.size/1024/1024<2;return i||p.error("只能上传图片文件!"),d||p.error("图片大小不能超过 2MB!"),i&&d},Be=async()=>{try{await new Promise(n=>setTimeout(n,500)),j.todayOrders=128,j.orderTrend=-5.2,j.revenue=3256.5,j.revenueTrend=12.5}catch(n){console.error("获取统计数据失败:",n)}};uo(()=>{se(),window.addEventListener("resize",se),Ee(),Be(),ze(),_e(),He();const n=()=>{to(),document.removeEventListener("click",n)};document.addEventListener("click",n)}),fo(()=>{window.removeEventListener("resize",se),W&&clearInterval(W)});const E=f({canteen:"",window:""}),Ae={canteen:[{required:!0,message:"请选择所属餐厅",trigger:"change"}],window:[{required:!0,message:"请选择所属窗口",trigger:"change"}]},P=f([{id:1,name:"中央食堂",floors:[{floor:1,sections:["左区","右区"]},{floor:2,sections:["左区","右区"]},{floor:3,sections:["左区","右区"]}]},{id:2,name:"沁园餐厅",floors:[{floor:1,sections:["主区"]},{floor:2,sections:["主区"]}]},{id:3,name:"馨园餐厅",floors:[{floor:1,sections:["主区"]}]},{id:4,name:"仲园餐厅",floors:[{floor:1,sections:["主区"]},{floor:2,sections:["主区"]}]},{id:5,name:"雅园餐厅",floors:[{floor:1,sections:["主区"]}]},{id:6,name:"F区服务���",floors:[{floor:1,sections:["主区"]}]},{id:7,name:"A区服务点",floors:[{floor:1,sections:["主区"]}]}]),ge=R(()=>{if(!E.value.canteen)return[];const n=P.value.find(g=>g.id===E.value.canteen);if(!n)return[];const i=[];let d=1;return n.floors.forEach(g=>{g.sections.forEach(I=>{for(let S=1;S<=5;S++)i.push({id:d++,name:`${g.floor}楼${I}-${S}号窗口`})})}),i}),Le=async()=>{ce.value=!0;try{await xe.value.validate();const n=P.value.find(g=>g.id===E.value.canteen),i=ge.value.find(g=>g.id===E.value.window),d={canteen:n,window:i,verifiedAt:new Date().toISOString()};localStorage.setItem("verifiedInfo",JSON.stringify(d)),l.value=!1,p.success("身份验证成功")}catch(n){console.error("验证失���:",n),p.error("请完成所有必填项")}finally{ce.value=!1}},Ee=()=>{localStorage.getItem("verifiedInfo")||(l.value=!0)};Se(()=>E.value.canteen,()=>{E.value.window=""});const Me={ORDER:{type:"order",label:"订单消息",icon:"List",color:"#409EFF",tagType:"primary"},STOCK:{type:"stock",label:"库存提醒",icon:"Warning",color:"#E6A23C",tagType:"warning"},SYSTEM:{type:"system",label:"系统通知",icon:"Bell",color:"#67C23A",tagType:"success"}},re=f("all"),Re=[{value:"all",label:"全部消息"},{value:"order",label:"订单消息"},{value:"stock",label:"库存提醒"},{value:"system",label:"系统通知"}],U=f([]),O=f(0),de=f(!1),ze=async()=>{try{const n=[{id:1,type:"order",title:"新订单提醒",content:"您有一个新的订单待处理",time:"2024-03-20 10:30",read:!1,priority:"high",link:"/admin/orders",data:{orderId:"2024032001"}},{id:2,type:"stock",title:"库存预警",content:"土豆库存不足,请及时补充",time:"2024-03-20 09:15",read:!1,priority:"medium",link:"/admin/dishes",data:{dishId:"D001"}},{id:3,type:"system",title:"系统维护通知",content:"系统将于今晚22:00进行例行维护",time:"2024-03-20 08:00",read:!1,priority:"low",link:null}];U.value=n,F(),We()}catch(n){console.error("获取通知��败:",n),p.error("获取通知失败")}},qe=R(()=>re.value==="all"?U.value:U.value.filter(n=>n.type===re.value)),Oe=n=>{n.read||M(n.id),n.link&&(de.value=!1,h.push({path:n.link,query:n.data}))};let W;const We=()=>{W=setInterval(async()=>{await Qe()},3e4)},Qe=async()=>{try{if(Math.random()>.7){const i={id:Date.now(),type:"order",title:"新订单通知",content:`收到新的订单 #${Math.floor(Math.random()*1e3)}`,time:new Date().toLocaleString(),read:!1,priority:"high",link:"/admin/orders"};U.value.unshift(i),F(),Notification.permission==="granted"&&new Notification("新消���提醒",{body:i.content,icon:"/favicon.ico"}),Ze()}}catch(n){console.error("检查新消息失败:",n)}},w=f(null),X=()=>{if(w.value)w.value.state==="suspended"&&w.value.resume();else try{w.value=new(window.AudioContext||window.webkitAudioContext)}catch(n){console.error("创建音频上下文失败:",n)}},$=()=>{X(),document.removeEventListener("click",$)};uo(()=>{document.addEventListener("click",$)}),fo(()=>{document.removeEventListener("click",$),w.value&&w.value.close()});const be=()=>{O.value++,Ze(),t.value=!0,setTimeout(()=>{t.value=!1},1e3)},He=async()=>{Notification.permission==="default"&&await Notification.requestPermission()},F=()=>{O.value=U.value.filter(n=>!n.read).length},M=async n=>{try{const i=U.value.find(d=>d.id===n);i&&(i.read=!0,F())}catch(i){console.error("标记已读失败:",i),p.error("操作失败")}},ue=async()=>{try{U.value.forEach(n=>n.read=!0),F(),p.success("已全部标记为已读")}catch(n){console.error("标记全部已读失败:",n),p.error("操作失败")}},ee=async()=>{try{await me.confirm("确定要清空所有消息吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),U.value=[],O.value=0,p.success("清空成功")}catch(n){n!=="cancel"&&(console.error("清空消息失败:",n),p.error("操作失败"))}},G=f([]),B=f([]),_e=async()=>{try{G.value=[{id:1,content:"处理待确认订单",deadline:"2024-03-20 12:00"},{id:2,content:"更新明日菜单",deadline:"2024-03-20 18:00"}]}catch(n){console.error("获取待办事项失败:",n),p.error("获取待办事项失败")}},we=async()=>{try{const{value:n}=await me.prompt("请输待事项内容","添待办",{confirmButtonText:"确定",cancelButtonText:"取消",inputValidator:i=>i?!0:"内容不能为空"});n&&(G.value.push({id:Date.now(),content:n,deadline:new Date().toLocaleString()}),p.success("添加成功"))}catch(n){n!=="cancel"&&(console.error("添加待办失败:",n),p.error("添加失败"))}},y=async n=>{try{await me.confirm("确定要删除该待办事项吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),G.value=G.value.filter(i=>i.id!==n),p.success("删除成功")}catch(i){i!=="cancel"&&(console.error("删除待办失败:",i),p.error("删除失败"))}},A=f(!1),oe=f(null),le=f(!1),x=he({oldPassword:"",newPassword:"",confirmPassword:""}),fe=R(()=>x.newPassword.length>=6),ye=R(()=>/\d/.test(x.newPassword)),Ve=R(()=>/[a-zA-Z]/.test(x.newPassword)),ke=R(()=>/[^a-zA-Z0-9]/.test(x.newPassword)),te=R(()=>{let n=0;return fe.value&&n++,ye.value&&n++,Ve.value&&n++,ke.value&&n++,Math.min(3,n)}),Ce=R(()=>te.value===0?"弱":te.value===1?"中":te.value===2?"强":"非常强"),je={oldPassword:[{required:!0,message:"请输入原密码",trigger:"blur"}],newPassword:[{required:!0,message:"请输入新密码",trigger:"blur"},{min:6,message:"密码长度不能少于6个字符",trigger:"blur"}],confirmPassword:[{required:!0,message:"请确认新密码",trigger:"blur"},{validator:(n,i,d)=>{i!==x.newPassword?d(new Error("两次输入的密码不一致")):d()},trigger:"blur"}]},ae=async()=>{if(oe.value)try{await oe.value.validate(),le.value=!0,await new Promise(n=>setTimeout(n,1e3)),p.success("密码修改成功"),A.value=!1,x.oldPassword="",x.newPassword="",x.confirmPassword=""}catch(n){console.error("修改密码失败:",n),p.error("修改密码失败")}finally{le.value=!1}},Je=async()=>{try{J.value=!0,await new Promise(n=>setTimeout(n,1e3)),p.success("保存成功"),ie.value=!1}catch(n){console.error("保存个人信息失败:",n),p.error("保存失败")}finally{J.value=!1}},t=f(!1),K=()=>{de.value=!0,O.value>0,t.value=!1},vo=()=>{t.value=!0,setTimeout(()=>{t.value=!1},1e3)};Se(O,(n,i)=>{n>i&&vo()});const $e={navColor:"#1e3c72",contentColor:"#f5f7fa",refreshInterval:"60",orderNotification:!0,stockAlert:!0,soundEnabled:!0,stockThreshold:10,autoBackup:!1,backupInterval:"daily",menuMode:"vertical",fixedHeader:!0,showBreadcrumb:!0,showFooter:!0,enableAnimation:!0,fontSize:14,loginVerification:!0,rememberLogin:!0,autoLockTime:"30",operationConfirm:!0,sensitiveOperationVerify:!0,notificationSound:"clear"},v=he({...$e}),Ye={nav:[{label:"深邃蓝",value:"#1e3c72",description:"稳重大气的深蓝色调",matchColors:["#f5f7fa","#ffffff","#f0f2f5"]},{label:"科技蓝",value:"#2196F3",description:"现代感的科技蓝",matchColors:["#ffffff","#f5f7fa","#f0f2f5"]},{label:"海洋蓝",value:"#0277BD",description:"深邃的海洋蓝调",matchColors:["#ffffff","#f5f7fa","#f0f2f5"]},{label:"典雅紫",value:"#673AB7",description:"高贵典雅的紫色",matchColors:["#ffffff","#f5f7fa","#f0f2f5"]},{label:"深邃紫",value:"#4A148C",description:"神秘的深紫色调",matchColors:["#ffffff","#f5f7fa","#f0f2f5"]},{label:"翡翠绿",value:"#009688",description:"清新自然的翡翠绿",matchColors:["#ffffff","#f5f7fa","#f0f2f5"]},{label:"森林绿",value:"#2E7D32",description:"生机盎然的森林绿",matchColors:["#ffffff","#f5f7fa","#f0f2f5"]},{label:"暖棕色",value:"#795548",description:"温暖沉稳的棕色调",matchColors:["#ffffff","#f5f7fa","#f0f2f5"]},{label:"深红色",value:"#C62828",description:"热情奔放的深红色",matchColors:["#ffffff","#f5f7fa","#f0f2f5"]},{label:"石墨灰",value:"#455A64",description:"内敛优雅的深灰色",matchColors:["#ffffff","#f5f7fa","#f0f2f5"]},{label:"冷调灰",value:"#37474F",description:"沉稳大气的冷灰色",matchColors:["#ffffff","#f5f7fa","#f0f2f5"]},{label:"经典黑",value:"#263238",description:"永恒经典的深邃黑",matchColors:["#ffffff","#f5f7fa","#f0f2f5"]},{label:"午夜蓝",value:"#1A237E",description:"深邃的午夜蓝调",matchColors:["#ffffff","#f5f7fa","#f0f2f5"]}],content:[{label:"清新白",value:"#ffffff",description:"简洁明亮的纯白色调"},{label:"象牙白",value:"#f5f7fa",description:"柔和舒适的象牙白"},{label:"淡雅灰",value:"#F5F5F5",description:"清爽淡雅的浅灰色"},{label:"米白色",value:"#FAFAFA",description:"��和自然的米白色"},{label:"珍珠白",value:"#F8F9FA",description:"细腻柔和的珍珠白"},{label:"浅蓝灰",value:"#EEF2F6",description:"清凉舒适的浅蓝灰"}]},Ge=R(()=>{const n=Ye.nav.find(i=>i.value===v.navColor);return n?n.matchColors:Ye.content.map(i=>i.value)}),Fe=(n=!1)=>{const i=document.querySelector(".aside");if(i){i.style.background=v.navColor;const g=i.querySelector(".el-menu");g&&(g.style.backgroundColor=v.navColor),i.querySelectorAll(".el-menu-item").forEach(S=>{S.style.backgroundColor=v.navColor})}if(n){const g=document.querySelector(".preview-aside");g&&(g.style.background=v.navColor)}const d=document.querySelector(".main");d&&(d.style.background=v.contentColor),document.documentElement.style.setProperty("--nav-background",v.navColor),document.documentElement.style.setProperty("--content-background",v.contentColor)};Se(()=>v.navColor,()=>{Ge.value.includes(v.contentColor)||(v.contentColor=Ge.value[0]),Fe(!0)}),Se(()=>v.contentColor,()=>{Fe(!0)});const po=f(45),go=f(450*1024*1024),bo=f(1024*1024*1024),_o=n=>{if(n===0)return"0 B";const i=1024,d=["B","KB","MB","GB","TB"],g=Math.floor(Math.log(n)/Math.log(i));return parseFloat((n/Math.pow(i,g)).toFixed(2))+" "+d[g]},wo=n=>`${n}%`,yo=async()=>{try{await me.confirm("确定要恢复默认设置吗？","提示",{type:"warning"}),Object.assign(v,$e),p.success("已恢复默认设置")}catch(n){n!=="cancel"&&(console.error("重置设置失败:",n),p.error("操作失败"))}},Ke=f(!1),Vo=f(null),ko=f("theme"),eo=f(!1),oo=f(!1),lo=f(null),Co=()=>{Y.avatar&&(oo.value=!0)},Fo=()=>{lo.value.click()},ho=n=>{const i=n.target.files[0];if(i){const d=/^image\//.test(i.type),g=i.size/1024/1024<2;if(!d){p.error("只能上传图片文件!");return}if(!g){p.error("图片大小不能超过 2MB!");return}const I=new FileReader;I.onload=S=>{Y.avatar=S.target.result;const ne=JSON.parse(localStorage.getItem("user")||"{}");ne.avatar=S.target.result,localStorage.setItem("user",JSON.stringify(ne)),p.success("头像更新成功")},I.readAsDataURL(i)}n.target.value=""},So=(n,i)=>{const d=parseInt(n.replace("#",""),16),g=Math.round(2.55*i),I=(d>>16)+g,S=(d>>8&255)+g,ne=(d&255)+g;return`#${(1<<24|(I<255?I<1?0:I:255)<<16|(S<255?S<1?0:S:255)<<8|(ne<255?ne<1?0:ne:255)).toString(16).slice(1)}`},Z=f([{label:"微信提示音",value:"wechat",audioPath:"/src/mp3/叮咚.mp3"},{label:"钉钉提示音",value:"dingtalk",audioPath:"/src/mp3/提示音效2.mp3"},{label:"iOS提示音",value:"ios",audioPath:"/src/mp3/提示音效3.mp3"}]),to=async()=>{try{if(w.value||X(),!w.value){console.error("无法初始化音频上下文");return}for(const n of Z.value){const d=await(await fetch(n.audioPath)).arrayBuffer();n.audioBuffer=await w.value.decodeAudioData(d)}}catch(n){console.error("加载预设音效失败:",n)}},To=async n=>{const i=n.target.files[0];if(i){if(!i.type.startsWith("audio/")){p.error("请上传音频文件");return}if(i.size>2*1024*1024){p.error("音频文件不能超过2MB");return}try{const d=await i.arrayBuffer(),g=await w.value.decodeAudioData(d),I={label:i.name.split(".")[0],value:`custom_${Date.now()}`,audioBuffer:g};Z.value.push(I),p.success("音效添加成功")}catch(d){console.error("音效加载失败:",d),p.error("音效加载失败")}}},Uo=async n=>{try{if(w.value||X(),w.value&&v.soundEnabled){const i=Z.value.find(d=>d.value===n);if(i){const d=w.value.createBufferSource();d.buffer=i.audioBuffer;const g=w.value.createGain();g.gain.value=v.notificationVolume/100,d.connect(g),g.connect(w.value.destination),d.start()}}}catch(i){console.error("播放预览音效失败:",i)}},Ze=async()=>{try{if(w.value||X(),v.soundEnabled&&w.value){const n=Z.value.find(i=>i.value===v.notificationSound);if(n){const i=w.value.createBufferSource();i.buffer=n.audioBuffer;const d=w.value.createGain();d.gain.value=v.notificationVolume/100,i.connect(d),d.connect(w.value.destination),i.start()}}}catch(n){console.error("播放提示音失败:",n)}},xo=n=>{const i=Z.value.findIndex(d=>d.value===n);i>0&&(Z.value.splice(i,1),v.notificationSound===n&&(v.notificationSound="default"),p.success("音效删除成功"))},Io=()=>{v.menuMode==="horizontal"?document.querySelector(".el-menu").classList.add("el-menu--horizontal"):document.querySelector(".el-menu").classList.remove("el-menu--horizontal");const n=document.querySelector(".header");v.fixedHeader?n.classList.add("fixed"):n.classList.remove("fixed");const i=document.querySelector(".el-breadcrumb");i&&(i.style.display=v.showBreadcrumb?"flex":"none");const d=document.querySelector(".footer");d&&(d.style.display=v.showFooter?"block":"none"),v.enableAnimation?document.body.classList.add("enable-animation"):document.body.classList.remove("enable-animation"),document.documentElement.style.fontSize=`${v.fontSize}px`,v.compactMode?document.body.classList.add("compact-mode"):document.body.classList.remove("compact-mode"),eo.value=v.showQuickActions,Ue.value=v.menuCollapse,v.darkMode?document.documentElement.classList.add("dark-mode"):document.documentElement.classList.remove("dark-mode")};return{isMobile:e,isCollapse:Ue,userInfo:c,profileForm:Y,dashboardStats:j,getCurrentMenuTitle:N,handleCommand:Ie,verifyForm:E,verifyRules:Ae,verifyFormRef:xe,canteens:P,availableWindows:ge,handleVerify:Le,verifyDialogVisible:l,verifying:ce,notifications:U,unreadCount:O,notificationsVisible:de,markAsRead:M,markAllAsRead:ue,clearNotifications:ee,todos:G,completedTodos:B,addTodo:we,deleteTodo:y,passwordDialogVisible:A,passwordFormRef:oe,passwordForm:x,passwordRules:je,changing:le,changePassword:ae,hasLength:fe,hasNumber:ye,hasLetter:Ve,hasSpecial:ke,passwordStrength:te,strengthText:Ce,NOTIFICATION_TYPES:Me,activeNotificationType:re,notificationTypes:Re,filteredNotifications:qe,handleNotificationClick:Oe,profileDialogVisible:ie,profileFormRef:De,saving:J,saveProfile:Je,showNotifications:K,notificationIconShaking:t,settingsDialogVisible:Ke,settingsForm:v,themeColors:Ye,applyTheme:Fe,adjustColor:So,getRecommendedContentColors:Ge,activeSettingTab:ko,storageUsage:po,usedStorage:go,totalStorage:bo,formatSize:_o,formatStorage:wo,resetSettings:yo,settingsFormRef:Vo,logDialogVisible:k,analysisDialogVisible:q,activeAnalysis:u,logType:D,logDateRange:b,systemLogs:L,showQuickPanel:eo,uploadAvatarUrl:Ne,handleAvatarSuccess:Pe,beforeAvatarUpload:pe,avatarPreviewVisible:oo,fileInput:lo,previewAvatar:Co,triggerFileInput:Fo,handleFileChange:ho,playNotificationSound:Ze,handleNewNotification:be,audioContext:w,notificationSounds:Z,playPreviewSound:Uo,handleSoundUpload:To,deleteSound:xo,loadPresetSounds:to,saveSettings:async()=>{try{J.value=!0,localStorage.setItem("systemSettings",JSON.stringify(v)),Fe(),Io(),p.success("设置保存成功"),Ke.value=!1}catch(n){console.error("保存设置失败:",n),p.error("保存设置失败")}finally{J.value=!1}}}}},rl={class:"header-left"},dl={class:"header-right"},ul={class:"user-info"},fl={class:"username"},ml={class:"quick-panel-header"},cl={class:"quick-actions"},vl={class:"notifications-header"},pl={class:"notifications-container"},gl={key:0,class:"no-notifications"},bl={key:1,class:"notifications-list"},_l=["onClick"],wl={class:"notification-icon"},yl={class:"notification-content"},Vl={class:"notification-header"},kl={class:"notification-title"},Cl={class:"notification-text"},Fl={class:"notification-footer"},hl={class:"notification-time"},Sl={class:"notifications-actions"},Tl={class:"profile-container"},Ul={class:"profile-avatar-section"},xl={class:"avatar-uploader"},Il=["src"],Dl={class:"profile-section"},Nl={class:"profile-section"},Pl={class:"profile-section"},Bl={key:0,class:"password-strength"},Al={class:"strength-bars"},Ll={class:"strength-text"},El={class:"password-tips"},Ml={class:"settings-section"},Rl={class:"theme-settings"},zl={class:"color-section"},ql={class:"color-options"},Ol=["onClick"],Wl={class:"color-info"},Ql={class:"color-name"},Hl={class:"color-desc"},jl={class:"color-section"},Jl={class:"color-options"},Yl=["onClick"],Gl={class:"color-info"},Kl={class:"color-name"},Zl={class:"color-desc"},Xl={class:"settings-section"},$l={class:"settings-section"},et={class:"sound-settings"},ot={class:"upload-sound"},lt={class:"settings-section"},tt={class:"backup-settings"},at={class:"backup-actions"},nt={class:"storage-info"},st={class:"storage-item"},it={class:"value"},rt={class:"storage-item"},dt={class:"value"},ut={class:"settings-section"},ft={class:"dialog-footer"},mt={class:"log-filters"},ct={class:"chart-container"},vt={ref:"salesChart",style:{height:"400px"}},pt={class:"chart-container"},gt={ref:"dishesChart",style:{height:"400px"}},bt={class:"chart-container"},_t={ref:"trafficChart",style:{height:"400px"}},wt={class:"avatar-preview-container"},yt=["src"],Vt={class:"preview-actions"};function kt(h,e,Ue,l,ce,xe){const k=r("el-option"),q=r("el-select"),u=r("el-form-item"),D=r("el-form"),b=r("el-button"),L=r("el-dialog"),se=r("Dish"),c=r("el-icon"),N=r("el-menu-item"),Ie=r("Calendar"),ve=r("List"),j=r("Shop"),ie=r("DataBoard"),De=r("TrendCharts"),J=r("Box"),Y=r("User"),Ne=r("el-menu"),Pe=r("el-aside"),pe=r("el-breadcrumb-item"),Be=r("el-breadcrumb"),E=r("el-avatar"),Ae=r("CaretBottom"),P=r("el-dropdown-item"),ge=r("Lock"),Le=r("Setting"),Ee=r("QuestionFilled"),Me=r("ChatDotRound"),re=r("SwitchButton"),Re=r("el-dropdown-menu"),U=r("el-dropdown"),O=r("Bell"),de=r("el-badge"),ze=r("el-header"),qe=r("router-view"),Oe=r("Close"),W=r("Plus"),We=r("Warning"),Qe=r("el-card"),w=r("el-main"),X=r("el-footer"),$=r("el-container"),be=r("el-tag"),He=r("el-drawer"),F=r("el-input"),M=r("el-col"),ue=r("el-row"),ee=r("el-descriptions-item"),G=r("el-descriptions"),B=r("el-tab-pane"),_e=r("el-radio"),we=r("el-radio-group"),y=r("el-switch"),A=r("el-divider"),oe=r("el-slider"),le=r("el-input-number"),x=r("VideoPlay"),fe=r("Delete"),ye=r("el-radio-button"),Ve=r("el-time-picker"),ke=r("Download"),te=r("el-progress"),Ce=r("el-tabs"),je=r("el-date-picker"),ae=r("el-table-column"),Je=r("el-table");return _(),C("div",{class:T(["admin-layout",{mobile:l.isMobile}])},[o(L,{title:"管理员身份验证",modelValue:l.verifyDialogVisible,"onUpdate:modelValue":e[2]||(e[2]=t=>l.verifyDialogVisible=t),"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,width:"500px"},{footer:a(()=>[o(b,{type:"primary",onClick:l.handleVerify,loading:l.verifying},{default:a(()=>e[66]||(e[66]=[m(" 确认身份 ")])),_:1},8,["onClick","loading"])]),default:a(()=>[o(D,{model:l.verifyForm,rules:l.verifyRules,ref:"verifyFormRef","label-width":"100px"},{default:a(()=>[o(u,{label:"所属餐厅",prop:"canteen"},{default:a(()=>[o(q,{modelValue:l.verifyForm.canteen,"onUpdate:modelValue":e[0]||(e[0]=t=>l.verifyForm.canteen=t),placeholder:"请选择所属餐厅",class:"full-width"},{default:a(()=>[(_(!0),C(Q,null,H(l.canteens,t=>(_(),z(k,{key:t.id,label:t.name,value:t.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(u,{label:"所属窗口",prop:"window"},{default:a(()=>[o(q,{modelValue:l.verifyForm.window,"onUpdate:modelValue":e[1]||(e[1]=t=>l.verifyForm.window=t),placeholder:"请选择所属窗口",disabled:!l.verifyForm.canteen,class:"full-width"},{default:a(()=>[(_(!0),C(Q,null,H(l.availableWindows,t=>(_(),z(k,{key:t.id,label:t.name,value:t.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"]),o($,null,{default:a(()=>[o(Pe,{width:l.isMobile?l.isCollapse?"64px":"200px":"240px",class:"aside"},{default:a(()=>[e[75]||(e[75]=s("div",{class:"logo-container"},[s("img",{src:"https://ts1.cn.mm.bing.net/th/id/R-C.01105e6f89184c277c662f33cd977751?rik=yt%2btmFKbjD8EVg&riu=http%3a%2f%2ftqedu.net%2fUploadFiles%2f2020%2f12%2f202012101555445729.png&ehk=%2fViGN%2b4wOxRaLLnLMUSFsczf60lAW2Ycm8qzXmB7MWQ%3d&risl=&pid=ImgRaw&r=0",alt:"GUET",class:"logo"}),s("h1",{class:"title"},"智慧食堂管理系统")],-1)),o(Ne,{router:"","default-active":h.$route.path,class:"menu","background-color":l.settingsForm.navColor,"text-color":"#fff","active-text-color":"#ffd04b"},{default:a(()=>[o(N,{index:"/admin/dishes"},{default:a(()=>[o(c,null,{default:a(()=>[o(se)]),_:1}),e[67]||(e[67]=s("span",null,"菜品管理",-1))]),_:1}),o(N,{index:"/admin/menus"},{default:a(()=>[o(c,null,{default:a(()=>[o(Ie)]),_:1}),e[68]||(e[68]=s("span",null,"菜单管理",-1))]),_:1}),o(N,{index:"/admin/orders"},{default:a(()=>[o(c,null,{default:a(()=>[o(ve)]),_:1}),e[69]||(e[69]=s("span",null,"订单管理",-1))]),_:1}),o(N,{index:"/admin/windows"},{default:a(()=>[o(c,null,{default:a(()=>[o(j)]),_:1}),e[70]||(e[70]=s("span",null,"窗口管理",-1))]),_:1}),o(N,{index:"/admin/dashboard"},{default:a(()=>[o(c,null,{default:a(()=>[o(ie)]),_:1}),e[71]||(e[71]=s("span",null,"数据看板",-1))]),_:1}),o(N,{index:"/admin/statistics"},{default:a(()=>[o(c,null,{default:a(()=>[o(De)]),_:1}),e[72]||(e[72]=s("span",null,"营业统计",-1))]),_:1}),o(N,{index:"/admin/inventory"},{default:a(()=>[o(c,null,{default:a(()=>[o(J)]),_:1}),e[73]||(e[73]=s("span",null,"库存管理",-1))]),_:1}),o(N,{index:"/admin/staff"},{default:a(()=>[o(c,null,{default:a(()=>[o(Y)]),_:1}),e[74]||(e[74]=s("span",null,"员工管理",-1))]),_:1})]),_:1},8,["default-active","background-color"])]),_:1},8,["width"]),o($,null,{default:a(()=>[o(ze,{class:T(["header",{mobile:l.isMobile}])},{default:a(()=>[s("div",rl,[o(Be,{separator:"/"},{default:a(()=>[o(pe,{to:{path:"/admin/dishes"}},{default:a(()=>e[76]||(e[76]=[m("首页")])),_:1}),o(pe,null,{default:a(()=>[m(V(l.getCurrentMenuTitle()),1)]),_:1})]),_:1})]),s("div",dl,[o(U,{trigger:"click",onCommand:l.handleCommand},{dropdown:a(()=>[o(Re,null,{default:a(()=>[o(P,{command:"profile"},{default:a(()=>[o(c,null,{default:a(()=>[o(Y)]),_:1}),e[77]||(e[77]=m(" 个人信息 "))]),_:1}),o(P,{command:"password"},{default:a(()=>[o(c,null,{default:a(()=>[o(ge)]),_:1}),e[78]||(e[78]=m(" 修改密码 "))]),_:1}),o(P,{command:"settings"},{default:a(()=>[o(c,null,{default:a(()=>[o(Le)]),_:1}),e[79]||(e[79]=m(" 系统设置 "))]),_:1}),o(P,{command:"help"},{default:a(()=>[o(c,null,{default:a(()=>[o(Ee)]),_:1}),e[80]||(e[80]=m(" 使用帮助 "))]),_:1}),o(P,{command:"feedback"},{default:a(()=>[o(c,null,{default:a(()=>[o(Me)]),_:1}),e[81]||(e[81]=m(" 问题反馈 "))]),_:1}),o(P,{divided:"",command:"logout"},{default:a(()=>[o(c,null,{default:a(()=>[o(re)]),_:1}),e[82]||(e[82]=m(" 退出登录 "))]),_:1})]),_:1})]),default:a(()=>[s("span",ul,[o(E,{size:32,src:l.profileForm.avatar,icon:l.profileForm.avatar?"":"UserFilled"},null,8,["src","icon"]),s("span",fl,V(l.profileForm.username),1),o(c,null,{default:a(()=>[o(Ae)]),_:1})])]),_:1},8,["onCommand"]),o(de,{value:l.unreadCount,hidden:l.unreadCount===0,class:"notification-badge"},{default:a(()=>[o(b,{circle:"",onClick:l.showNotifications,class:T({shake:l.notificationIconShaking})},{default:a(()=>[o(c,null,{default:a(()=>[o(O)]),_:1})]),_:1},8,["onClick","class"])]),_:1},8,["value","hidden"])])]),_:1},8,["class"]),o(w,{class:T(["main",{mobile:l.isMobile}])},{default:a(()=>[o(qe,null,{default:a(({Component:t})=>[o(tl,{name:"fade",mode:"out-in"},{default:a(()=>[(_(),z(mo(t)))]),_:2},1024)]),_:1}),al(o(Qe,{class:"quick-panel"},{header:a(()=>[s("div",ml,[e[83]||(e[83]=s("span",null,"快捷操作",-1)),o(b,{link:"",onClick:e[3]||(e[3]=t=>l.showQuickPanel=!1)},{default:a(()=>[o(c,null,{default:a(()=>[o(Oe)]),_:1})]),_:1})])]),default:a(()=>[s("div",cl,[o(b,{type:"primary",onClick:e[4]||(e[4]=t=>h.quickAdd("dish"))},{default:a(()=>[o(c,null,{default:a(()=>[o(W)]),_:1}),e[84]||(e[84]=m("添加菜品 "))]),_:1}),o(b,{type:"success",onClick:e[5]||(e[5]=t=>h.quickAdd("menu"))},{default:a(()=>[o(c,null,{default:a(()=>[o(W)]),_:1}),e[85]||(e[85]=m("添加菜单 "))]),_:1}),o(b,{type:"warning",onClick:e[6]||(e[6]=t=>h.quickView("orders"))},{default:a(()=>[o(c,null,{default:a(()=>[o(ve)]),_:1}),e[86]||(e[86]=m("待处理订单 "))]),_:1}),o(b,{type:"info",onClick:e[7]||(e[7]=t=>h.quickView("stock"))},{default:a(()=>[o(c,null,{default:a(()=>[o(We)]),_:1}),e[87]||(e[87]=m("库存预警 "))]),_:1})])]),_:1},512),[[nl,l.showQuickPanel]])]),_:1},8,["class"]),o(X,{class:"footer"},{default:a(()=>[s("p",null,"Copyright © "+V(new Date().getFullYear())+" 桂林电子科技大学",1)]),_:1})]),_:1})]),_:1}),o(He,{title:"消息通知",modelValue:l.notificationsVisible,"onUpdate:modelValue":e[9]||(e[9]=t=>l.notificationsVisible=t),direction:"rtl",size:"400px"},{header:a(()=>[s("div",vl,[e[88]||(e[88]=s("span",{class:"drawer-title"},"消息通知",-1)),o(q,{modelValue:l.activeNotificationType,"onUpdate:modelValue":e[8]||(e[8]=t=>l.activeNotificationType=t),size:"small",style:{width:"120px"}},{default:a(()=>[(_(!0),C(Q,null,H(l.notificationTypes,t=>(_(),z(k,{key:t.value,label:t.label,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),footer:a(()=>[s("div",Sl,[o(b,{type:"primary",link:"",onClick:l.markAllAsRead},{default:a(()=>e[90]||(e[90]=[m("全部标为已读")])),_:1},8,["onClick"]),o(b,{type:"danger",link:"",onClick:l.clearNotifications},{default:a(()=>e[91]||(e[91]=[m("清空消息")])),_:1},8,["onClick"])])]),default:a(()=>[s("div",pl,[l.filteredNotifications.length===0?(_(),C("div",gl," 暂无消息 ")):(_(),C("div",bl,[(_(!0),C(Q,null,H(l.filteredNotifications,t=>(_(),C("div",{key:t.id,class:T(["notification-item",{unread:!t.read,[`priority-${t.priority}`]:!0}]),onClick:K=>l.handleNotificationClick(t)},[s("div",wl,[o(c,{color:l.NOTIFICATION_TYPES[t.type.toUpperCase()].color},{default:a(()=>[(_(),z(mo(l.NOTIFICATION_TYPES[t.type.toUpperCase()].icon)))]),_:2},1032,["color"])]),s("div",yl,[s("div",Vl,[s("span",kl,V(t.title),1),o(be,{type:l.NOTIFICATION_TYPES[t.type.toUpperCase()].tagType,size:"small"},{default:a(()=>[m(V(l.NOTIFICATION_TYPES[t.type.toUpperCase()].label),1)]),_:2},1032,["type"])]),s("div",Cl,V(t.content),1),s("div",Fl,[s("span",hl,V(t.time),1),t.read?Xe("",!0):(_(),z(b,{key:0,type:"primary",link:"",size:"small",onClick:Te(K=>l.markAsRead(t.id),["stop"])},{default:a(()=>e[89]||(e[89]=[m(" 标记已读 ")])),_:2},1032,["onClick"]))])])],10,_l))),128))]))])]),_:1},8,["modelValue"]),o(L,{title:"个人信息",modelValue:l.profileDialogVisible,"onUpdate:modelValue":e[21]||(e[21]=t=>l.profileDialogVisible=t),width:"600px"},{footer:a(()=>[o(b,{onClick:e[20]||(e[20]=t=>l.profileDialogVisible=!1)},{default:a(()=>e[98]||(e[98]=[m("取消")])),_:1}),o(b,{type:"primary",onClick:l.saveProfile,loading:l.saving},{default:a(()=>e[99]||(e[99]=[m("保存")])),_:1},8,["onClick","loading"])]),default:a(()=>[s("div",Tl,[s("div",Ul,[e[92]||(e[92]=s("h4",null,"头像设置",-1)),s("div",xl,[s("input",{type:"file",ref:"fileInput",accept:"image/*",style:{display:"none"},onChange:e[10]||(e[10]=(...t)=>l.handleFileChange&&l.handleFileChange(...t))},null,544),s("div",{class:"upload-area",onClick:e[12]||(e[12]=(...t)=>l.triggerFileInput&&l.triggerFileInput(...t))},[l.profileForm.avatar?(_(),C("img",{key:0,src:l.profileForm.avatar,class:"avatar-image",onClick:e[11]||(e[11]=Te((...t)=>l.previewAvatar&&l.previewAvatar(...t),["stop"]))},null,8,Il)):(_(),z(c,{key:1,class:"avatar-uploader-icon"},{default:a(()=>[o(W)]),_:1}))])]),e[93]||(e[93]=s("div",{class:"avatar-tips"},"点击图片更换头像",-1))]),s("div",Dl,[e[94]||(e[94]=s("h4",null,"基本信息",-1)),o(D,{model:l.profileForm,"label-width":"100px"},{default:a(()=>[o(ue,{gutter:20},{default:a(()=>[o(M,{span:12},{default:a(()=>[o(u,{label:"工号"},{default:a(()=>[o(F,{modelValue:l.profileForm.workId,"onUpdate:modelValue":e[13]||(e[13]=t=>l.profileForm.workId=t),disabled:""},null,8,["modelValue"])]),_:1})]),_:1}),o(M,{span:12},{default:a(()=>[o(u,{label:"姓名"},{default:a(()=>[o(F,{modelValue:l.profileForm.name,"onUpdate:modelValue":e[14]||(e[14]=t=>l.profileForm.name=t)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),o(ue,{gutter:20},{default:a(()=>[o(M,{span:12},{default:a(()=>[o(u,{label:"所属餐厅"},{default:a(()=>[o(F,{modelValue:l.profileForm.canteen,"onUpdate:modelValue":e[15]||(e[15]=t=>l.profileForm.canteen=t),disabled:""},null,8,["modelValue"])]),_:1})]),_:1}),o(M,{span:12},{default:a(()=>[o(u,{label:"管理窗口"},{default:a(()=>[o(F,{modelValue:l.profileForm.window,"onUpdate:modelValue":e[16]||(e[16]=t=>l.profileForm.window=t),disabled:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),s("div",Nl,[e[95]||(e[95]=s("h4",null,"联系方式",-1)),o(D,{model:l.profileForm,"label-width":"100px"},{default:a(()=>[o(ue,{gutter:20},{default:a(()=>[o(M,{span:12},{default:a(()=>[o(u,{label:"手机码"},{default:a(()=>[o(F,{modelValue:l.profileForm.phone,"onUpdate:modelValue":e[17]||(e[17]=t=>l.profileForm.phone=t),maxlength:"11"},null,8,["modelValue"])]),_:1})]),_:1}),o(M,{span:12},{default:a(()=>[o(u,{label:"电子邮箱"},{default:a(()=>[o(F,{modelValue:l.profileForm.email,"onUpdate:modelValue":e[18]||(e[18]=t=>l.profileForm.email=t),type:"email"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),o(u,{label:"紧急联系人"},{default:a(()=>[o(F,{modelValue:l.profileForm.emergencyContact,"onUpdate:modelValue":e[19]||(e[19]=t=>l.profileForm.emergencyContact=t)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),s("div",Pl,[e[97]||(e[97]=s("h4",null,"工作信息",-1)),o(G,{column:2,border:""},{default:a(()=>[o(ee,{label:"入职时间"},{default:a(()=>[m(V(l.profileForm.joinDate),1)]),_:1}),o(ee,{label:"工作状态"},{default:a(()=>[o(be,{type:"success"},{default:a(()=>e[96]||(e[96]=[m("在职")])),_:1})]),_:1}),o(ee,{label:"工作时间"},{default:a(()=>[m(V(l.profileForm.workHours),1)]),_:1}),o(ee,{label:"休息日"},{default:a(()=>[m(V(l.profileForm.restDays),1)]),_:1})]),_:1})])])]),_:1},8,["modelValue"]),o(L,{title:"修改密码",modelValue:l.passwordDialogVisible,"onUpdate:modelValue":e[26]||(e[26]=t=>l.passwordDialogVisible=t),width:"500px"},{footer:a(()=>[o(b,{onClick:e[25]||(e[25]=t=>l.passwordDialogVisible=!1)},{default:a(()=>e[102]||(e[102]=[m("取消")])),_:1}),o(b,{type:"primary",onClick:l.changePassword,loading:l.changing},{default:a(()=>e[103]||(e[103]=[m(" 确认修改 ")])),_:1},8,["onClick","loading"])]),default:a(()=>[o(D,{model:l.passwordForm,rules:l.passwordRules,ref:"passwordFormRef","label-width":"100px"},{default:a(()=>[o(u,{label:"原密码",prop:"oldPassword"},{default:a(()=>[o(F,{modelValue:l.passwordForm.oldPassword,"onUpdate:modelValue":e[22]||(e[22]=t=>l.passwordForm.oldPassword=t),type:"password",placeholder:"请输入原密码","show-password":""},null,8,["modelValue"])]),_:1}),o(u,{label:"新密码",prop:"newPassword"},{default:a(()=>[o(F,{modelValue:l.passwordForm.newPassword,"onUpdate:modelValue":e[23]||(e[23]=t=>l.passwordForm.newPassword=t),type:"password",placeholder:"密码长度不少于6位","show-password":""},null,8,["modelValue"]),l.passwordForm.newPassword?(_(),C("div",Bl,[e[100]||(e[100]=s("div",{class:"strength-label"},"�����������������������������������������������������������������������������������������������������������������������度���",-1)),s("div",Al,[(_(),C(Q,null,H(3,t=>s("div",{key:t,class:T(["strength-bar",{active:l.passwordStrength>=t}])},null,2)),64))]),s("span",Ll,V(l.strengthText),1)])):Xe("",!0)]),_:1}),o(u,{label:"确认密码",prop:"confirmPassword"},{default:a(()=>[o(F,{modelValue:l.passwordForm.confirmPassword,"onUpdate:modelValue":e[24]||(e[24]=t=>l.passwordForm.confirmPassword=t),type:"password",placeholder:"请次输入新密码","show-password":""},null,8,["modelValue"])]),_:1}),s("div",El,[e[101]||(e[101]=s("h4",null,"密码要求：",-1)),s("ul",null,[s("li",{class:T({valid:l.hasLength})},"长度至少6��",2),s("li",{class:T({valid:l.hasNumber})},"包含数字",2),s("li",{class:T({valid:l.hasLetter})},"包含字母",2),s("li",{class:T({valid:l.hasSpecial})},"包含特殊字符",2)])])]),_:1},8,["model","rules"])]),_:1},8,["modelValue"]),o(L,{title:"系统设置",modelValue:l.settingsDialogVisible,"onUpdate:modelValue":e[58]||(e[58]=t=>l.settingsDialogVisible=t),width:"800px"},{footer:a(()=>[s("div",ft,[o(b,{onClick:l.resetSettings},{default:a(()=>e[125]||(e[125]=[m("恢复默认")])),_:1},8,["onClick"]),o(b,{onClick:e[57]||(e[57]=t=>l.settingsDialogVisible=!1)},{default:a(()=>e[126]||(e[126]=[m("取消")])),_:1}),o(b,{type:"primary",onClick:l.saveSettings,loading:l.saving},{default:a(()=>e[127]||(e[127]=[m(" 保存设置 ")])),_:1},8,["onClick","loading"])])]),default:a(()=>[o(Ce,{modelValue:l.activeSettingTab,"onUpdate:modelValue":e[56]||(e[56]=t=>l.activeSettingTab=t)},{default:a(()=>[o(B,{label:"主题设置",name:"theme"},{default:a(()=>[s("div",Ml,[e[106]||(e[106]=s("div",{class:"theme-preview"},[s("div",{class:"preview-aside",style:{background:"var(--nav-background)"}},[s("div",{class:"preview-logo"}),s("div",{class:"preview-menu"})]),s("div",{class:"preview-main",style:{background:"var(--content-background)"}},[s("div",{class:"preview-header"}),s("div",{class:"preview-content"},[s("div",{class:"preview-card"}),s("div",{class:"preview-card"})])])],-1)),s("div",Rl,[s("div",zl,[e[104]||(e[104]=s("h5",null,"导航栏颜色",-1)),s("div",ql,[(_(!0),C(Q,null,H(l.themeColors.nav,t=>(_(),C("div",{key:t.value,class:T(["color-option",{active:l.settingsForm.navColor===t.value}]),onClick:K=>l.settingsForm.navColor=t.value},[s("div",{class:"color-block",style:co({background:`linear-gradient(to right, ${t.value}, ${l.adjustColor(t.value,20)})`})},null,4),s("div",Wl,[s("span",Ql,V(t.label),1),s("span",Hl,V(t.description),1)])],10,Ol))),128))])]),s("div",jl,[e[105]||(e[105]=s("h5",null,"内容区域颜色",-1)),s("div",Jl,[(_(!0),C(Q,null,H(l.themeColors.content,t=>(_(),C("div",{key:t.value,class:T(["color-option",{active:l.settingsForm.contentColor===t.value,recommended:l.getRecommendedContentColors.includes(t.value)}]),onClick:K=>l.settingsForm.contentColor=t.value},[s("div",{class:"color-block",style:co({background:`linear-gradient(to bottom right, ${t.value}, ${l.adjustColor(t.value,-5)})`})},null,4),s("div",Gl,[s("span",Kl,V(t.label),1),s("span",Zl,V(t.description),1)])],10,Yl))),128))])])])])]),_:1}),o(B,{label:"界面设置",name:"interface"},{default:a(()=>[s("div",Xl,[o(D,{model:l.settingsForm,"label-width":"120px"},{default:a(()=>[e[109]||(e[109]=s("h4",null,"布局设置",-1)),o(u,{label:"菜单展开方式"},{default:a(()=>[o(we,{modelValue:l.settingsForm.menuMode,"onUpdate:modelValue":e[27]||(e[27]=t=>l.settingsForm.menuMode=t)},{default:a(()=>[o(_e,{label:"vertical"},{default:a(()=>e[107]||(e[107]=[m("垂直展开")])),_:1}),o(_e,{label:"horizontal"},{default:a(()=>e[108]||(e[108]=[m("水平展开")])),_:1})]),_:1},8,["modelValue"])]),_:1}),o(u,{label:"菜单折叠"},{default:a(()=>[o(y,{modelValue:l.settingsForm.menuCollapse,"onUpdate:modelValue":e[28]||(e[28]=t=>l.settingsForm.menuCollapse=t)},null,8,["modelValue"])]),_:1}),o(u,{label:"固定头部"},{default:a(()=>[o(y,{modelValue:l.settingsForm.fixedHeader,"onUpdate:modelValue":e[29]||(e[29]=t=>l.settingsForm.fixedHeader=t)},null,8,["modelValue"])]),_:1}),o(u,{label:"显示面包屑"},{default:a(()=>[o(y,{modelValue:l.settingsForm.showBreadcrumb,"onUpdate:modelValue":e[30]||(e[30]=t=>l.settingsForm.showBreadcrumb=t)},null,8,["modelValue"])]),_:1}),o(u,{label:"显示页脚"},{default:a(()=>[o(y,{modelValue:l.settingsForm.showFooter,"onUpdate:modelValue":e[31]||(e[31]=t=>l.settingsForm.showFooter=t)},null,8,["modelValue"])]),_:1}),o(A),e[110]||(e[110]=s("h4",null,"显示设置",-1)),o(u,{label:"页面动画"},{default:a(()=>[o(y,{modelValue:l.settingsForm.enableAnimation,"onUpdate:modelValue":e[32]||(e[32]=t=>l.settingsForm.enableAnimation=t)},null,8,["modelValue"])]),_:1}),o(u,{label:"字体大小"},{default:a(()=>[o(oe,{modelValue:l.settingsForm.fontSize,"onUpdate:modelValue":e[33]||(e[33]=t=>l.settingsForm.fontSize=t),min:12,max:18,step:1,"show-input":""},null,8,["modelValue"])]),_:1}),o(u,{label:"紧凑模式"},{default:a(()=>[o(y,{modelValue:l.settingsForm.compactMode,"onUpdate:modelValue":e[34]||(e[34]=t=>l.settingsForm.compactMode=t)},null,8,["modelValue"])]),_:1}),o(u,{label:"快捷操作"},{default:a(()=>[o(y,{modelValue:l.settingsForm.showQuickActions,"onUpdate:modelValue":e[35]||(e[35]=t=>l.settingsForm.showQuickActions=t)},null,8,["modelValue"])]),_:1}),o(u,{label:"深色模式"},{default:a(()=>[o(y,{modelValue:l.settingsForm.darkMode,"onUpdate:modelValue":e[36]||(e[36]=t=>l.settingsForm.darkMode=t)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])]),_:1}),o(B,{label:"通知设置",name:"notification"},{default:a(()=>[s("div",$l,[o(D,{model:l.settingsForm,"label-width":"120px"},{default:a(()=>[e[113]||(e[113]=s("h4",null,"消��提醒",-1)),o(u,{label:"新订单通知"},{default:a(()=>[o(y,{modelValue:l.settingsForm.orderNotification,"onUpdate:modelValue":e[37]||(e[37]=t=>l.settingsForm.orderNotification=t)},null,8,["modelValue"])]),_:1}),o(u,{label:"库存预警"},{default:a(()=>[o(y,{modelValue:l.settingsForm.stockAlert,"onUpdate:modelValue":e[38]||(e[38]=t=>l.settingsForm.stockAlert=t)},null,8,["modelValue"])]),_:1}),o(u,{label:"系统通知"},{default:a(()=>[o(y,{modelValue:l.settingsForm.systemNotification,"onUpdate:modelValue":e[39]||(e[39]=t=>l.settingsForm.systemNotification=t)},null,8,["modelValue"])]),_:1}),o(A),e[114]||(e[114]=s("h4",null,"提醒方式",-1)),o(u,{label:"声音提醒"},{default:a(()=>[o(y,{modelValue:l.settingsForm.soundEnabled,"onUpdate:modelValue":e[40]||(e[40]=t=>l.settingsForm.soundEnabled=t)},null,8,["modelValue"])]),_:1}),o(u,{label:"桌面通知"},{default:a(()=>[o(y,{modelValue:l.settingsForm.desktopNotification,"onUpdate:modelValue":e[41]||(e[41]=t=>l.settingsForm.desktopNotification=t)},null,8,["modelValue"])]),_:1}),o(u,{label:"通知音量"},{default:a(()=>[o(oe,{modelValue:l.settingsForm.notificationVolume,"onUpdate:modelValue":e[42]||(e[42]=t=>l.settingsForm.notificationVolume=t),disabled:!l.settingsForm.soundEnabled,"show-input":""},null,8,["modelValue","disabled"])]),_:1}),o(A),e[115]||(e[115]=s("h4",null,"预警设置",-1)),o(u,{label:"库存预警阈值"},{default:a(()=>[o(le,{modelValue:l.settingsForm.stockThreshold,"onUpdate:modelValue":e[43]||(e[43]=t=>l.settingsForm.stockThreshold=t),min:1,max:100,"controls-position":"right"},null,8,["modelValue"])]),_:1}),o(u,{label:"订单超时时间"},{default:a(()=>[o(le,{modelValue:l.settingsForm.orderTimeout,"onUpdate:modelValue":e[44]||(e[44]=t=>l.settingsForm.orderTimeout=t),min:1,max:60,"controls-position":"right"},{append:a(()=>e[111]||(e[111]=[m("分钟")])),_:1},8,["modelValue"])]),_:1}),o(A),e[116]||(e[116]=s("h4",null,"提示音设置",-1)),s("div",et,[o(we,{modelValue:l.settingsForm.notificationSound,"onUpdate:modelValue":e[45]||(e[45]=t=>l.settingsForm.notificationSound=t),class:"sound-options"},{default:a(()=>[(_(!0),C(Q,null,H(l.notificationSounds,t=>(_(),z(ye,{key:t.value,label:t.value},{default:a(()=>[m(V(t.label)+" ",1),o(b,{link:"",type:"primary",class:"play-sound-btn",onClick:Te(K=>l.playPreviewSound(t.value),["stop"])},{default:a(()=>[o(c,null,{default:a(()=>[o(x)]),_:1})]),_:2},1032,["onClick"]),t.value!=="default"?(_(),z(b,{key:0,link:"",type:"danger",class:"delete-sound-btn",onClick:Te(K=>l.deleteSound(t.value),["stop"])},{default:a(()=>[o(c,null,{default:a(()=>[o(fe)]),_:1})]),_:2},1032,["onClick"])):Xe("",!0)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"]),s("div",ot,[s("input",{type:"file",ref:"soundInput",accept:"audio/*",style:{display:"none"},onChange:e[46]||(e[46]=(...t)=>l.handleSoundUpload&&l.handleSoundUpload(...t))},null,544),o(b,{type:"primary",onClick:e[47]||(e[47]=t=>h.$refs.soundInput.click())},{default:a(()=>[o(c,null,{default:a(()=>[o(W)]),_:1}),e[112]||(e[112]=m(" 添加音效 "))]),_:1})])])]),_:1},8,["model"])])]),_:1}),o(B,{label:"数据管理",name:"data"},{default:a(()=>[s("div",lt,[e[121]||(e[121]=s("h4",null,"数据备份",-1)),s("div",tt,[o(D,{model:l.settingsForm,"label-width":"120px"},{default:a(()=>[o(u,{label:"自动备份"},{default:a(()=>[o(y,{modelValue:l.settingsForm.autoBackup,"onUpdate:modelValue":e[48]||(e[48]=t=>l.settingsForm.autoBackup=t)},null,8,["modelValue"])]),_:1}),o(u,{label:"备份周期"},{default:a(()=>[o(q,{modelValue:l.settingsForm.backupInterval,"onUpdate:modelValue":e[49]||(e[49]=t=>l.settingsForm.backupInterval=t),disabled:!l.settingsForm.autoBackup},{default:a(()=>[o(k,{label:"每天",value:"daily"}),o(k,{label:"每周",value:"weekly"}),o(k,{label:"每月",value:"monthly"})]),_:1},8,["modelValue","disabled"])]),_:1}),o(u,{label:"备份时间"},{default:a(()=>[o(Ve,{modelValue:l.settingsForm.backupTime,"onUpdate:modelValue":e[50]||(e[50]=t=>l.settingsForm.backupTime=t),disabled:!l.settingsForm.autoBackup,format:"HH:mm",placeholder:"选择时间"},null,8,["modelValue","disabled"])]),_:1})]),_:1},8,["model"]),s("div",at,[o(b,{type:"primary",onClick:h.backupData},{default:a(()=>[o(c,null,{default:a(()=>[o(ke)]),_:1}),e[117]||(e[117]=m("立即备份 "))]),_:1},8,["onClick"]),o(b,{type:"warning",onClick:h.clearCache},{default:a(()=>[o(c,null,{default:a(()=>[o(fe)]),_:1}),e[118]||(e[118]=m("清除缓存 "))]),_:1},8,["onClick"])])]),o(A),e[122]||(e[122]=s("h4",null,"数据存储",-1)),o(te,{percentage:l.storageUsage,format:l.formatStorage},null,8,["percentage","format"]),s("div",nt,[s("div",st,[e[119]||(e[119]=s("span",{class:"label"},"已用空间",-1)),s("span",it,V(l.formatSize(l.usedStorage)),1)]),s("div",rt,[e[120]||(e[120]=s("span",{class:"label"},"总空间",-1)),s("span",dt,V(l.formatSize(l.totalStorage)),1)])])])]),_:1}),o(B,{label:"隐私安全",name:"security"},{default:a(()=>[s("div",ut,[o(D,{model:l.settingsForm,"label-width":"120px"},{default:a(()=>[e[123]||(e[123]=s("h4",null,"登录安��",-1)),o(u,{label:"登录验证"},{default:a(()=>[o(y,{modelValue:l.settingsForm.loginVerification,"onUpdate:modelValue":e[51]||(e[51]=t=>l.settingsForm.loginVerification=t)},null,8,["modelValue"])]),_:1}),o(u,{label:"记住登录"},{default:a(()=>[o(y,{modelValue:l.settingsForm.rememberLogin,"onUpdate:modelValue":e[52]||(e[52]=t=>l.settingsForm.rememberLogin=t)},null,8,["modelValue"])]),_:1}),o(u,{label:"自动锁屏"},{default:a(()=>[o(q,{modelValue:l.settingsForm.autoLockTime,"onUpdate:modelValue":e[53]||(e[53]=t=>l.settingsForm.autoLockTime=t)},{default:a(()=>[o(k,{label:"从不",value:"0"}),o(k,{label:"5分钟",value:"5"}),o(k,{label:"10分钟",value:"10"}),o(k,{label:"30分钟",value:"30"})]),_:1},8,["modelValue"])]),_:1}),o(A),e[124]||(e[124]=s("h4",null,"操作��全",-1)),o(u,{label:"操作确认"},{default:a(()=>[o(y,{modelValue:l.settingsForm.operationConfirm,"onUpdate:modelValue":e[54]||(e[54]=t=>l.settingsForm.operationConfirm=t)},null,8,["modelValue"])]),_:1}),o(u,{label:"敏感操作验证"},{default:a(()=>[o(y,{modelValue:l.settingsForm.sensitiveOperationVerify,"onUpdate:modelValue":e[55]||(e[55]=t=>l.settingsForm.sensitiveOperationVerify=t)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]),o(L,{title:"系统日志",modelValue:l.logDialogVisible,"onUpdate:modelValue":e[61]||(e[61]=t=>l.logDialogVisible=t),width:"800px"},{default:a(()=>[s("div",mt,[o(q,{modelValue:l.logType,"onUpdate:modelValue":e[59]||(e[59]=t=>l.logType=t),placeholder:"日志类型"},{default:a(()=>[o(k,{label:"全部",value:"all"}),o(k,{label:"操作日志",value:"operation"}),o(k,{label:"系统日志",value:"system"}),o(k,{label:"错误日志",value:"error"})]),_:1},8,["modelValue"]),o(je,{modelValue:l.logDateRange,"onUpdate:modelValue":e[60]||(e[60]=t=>l.logDateRange=t),type:"daterange","range-separator":"���","start-placeholder":"开始日期","end-placeholder":"结束日期"},null,8,["modelValue"])]),o(Je,{data:l.systemLogs,height:"400"},{default:a(()=>[o(ae,{prop:"timestamp",label:"时间",width:"180"}),o(ae,{prop:"type",label:"类型",width:"100"}),o(ae,{prop:"user",label:"操��人",width:"120"}),o(ae,{prop:"content",label:"内容"})]),_:1},8,["data"])]),_:1},8,["modelValue"]),o(L,{title:"数据分析",modelValue:l.analysisDialogVisible,"onUpdate:modelValue":e[63]||(e[63]=t=>l.analysisDialogVisible=t),width:"900px"},{default:a(()=>[o(Ce,{modelValue:l.activeAnalysis,"onUpdate:modelValue":e[62]||(e[62]=t=>l.activeAnalysis=t)},{default:a(()=>[o(B,{label:"销售趋势",name:"sales"},{default:a(()=>[s("div",ct,[s("div",vt,null,512)])]),_:1}),o(B,{label:"菜品分析",name:"dishes"},{default:a(()=>[s("div",pt,[s("div",gt,null,512)])]),_:1}),o(B,{label:"客流分析",name:"traffic"},{default:a(()=>[s("div",bt,[s("div",_t,null,512)])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]),o(L,{modelValue:l.avatarPreviewVisible,"onUpdate:modelValue":e[65]||(e[65]=t=>l.avatarPreviewVisible=t),title:"头像预览",width:"400px","align-center":""},{default:a(()=>[s("div",wt,[s("img",{src:l.profileForm.avatar,class:"preview-image"},null,8,yt)]),s("div",Vt,[o(b,{onClick:e[64]||(e[64]=t=>l.avatarPreviewVisible=!1)},{default:a(()=>e[128]||(e[128]=[m("关闭")])),_:1}),o(b,{type:"primary",onClick:l.triggerFileInput},{default:a(()=>e[129]||(e[129]=[m("重新上传")])),_:1},8,["onClick"])])]),_:1},8,["modelValue"])],2)}const ht=Do(il,[["render",kt],["__scopeId","data-v-3f5e45d3"]]);export{ht as default};
