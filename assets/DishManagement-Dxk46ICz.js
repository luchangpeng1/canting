import{aw as G,_ as Re,M as Pe,U as Ue,S as Fe,a$ as Me,b0 as ze,b as Ae,b1 as Le,aR as qe,aP as Ve,b2 as Oe,Y as _,g as k,h as We,ay as se,k as F,q as n,w as i,I as N,n as r,v as x,z as K,A as te,E as v,af as le,x as m,y as C,a1 as ne,B as M,C as Ne,K as He}from"./index-CjeFGtzt.js";import"./request-Coerp45x.js";import{c as ae,i as Qe}from"./permission-6D7hEpLD.js";import{u as oe,w as Ge}from"./xlsx-B4zCxbTf.js";var ce={exports:{}};(function(z,s){(function(S,o){o()})(G,function(){function S(a,d){return typeof d>"u"?d={autoBom:!1}:typeof d!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),d={autoBom:!d}),d.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}function o(a,d,f){var l=new XMLHttpRequest;l.open("GET",a),l.responseType="blob",l.onload=function(){b(l.response,d,f)},l.onerror=function(){console.error("could not download file")},l.send()}function H(a){var d=new XMLHttpRequest;d.open("HEAD",a,!1);try{d.send()}catch{}return 200<=d.status&&299>=d.status}function q(a){try{a.dispatchEvent(new MouseEvent("click"))}catch{var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(d)}}var h=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof G=="object"&&G.global===G?G:void 0,y=h.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),b=h.saveAs||(typeof window!="object"||window!==h?function(){}:"download"in HTMLAnchorElement.prototype&&!y?function(a,d,f){var l=h.URL||h.webkitURL,p=document.createElement("a");d=d||a.name||"download",p.download=d,p.rel="noopener",typeof a=="string"?(p.href=a,p.origin===location.origin?q(p):H(p.href)?o(a,d,f):q(p,p.target="_blank")):(p.href=l.createObjectURL(a),setTimeout(function(){l.revokeObjectURL(p.href)},4e4),setTimeout(function(){q(p)},0))}:"msSaveOrOpenBlob"in navigator?function(a,d,f){if(d=d||a.name||"download",typeof a!="string")navigator.msSaveOrOpenBlob(S(a,f),d);else if(H(a))o(a,d,f);else{var l=document.createElement("a");l.href=a,l.target="_blank",setTimeout(function(){q(l)})}}:function(a,d,f,l){if(l=l||open("","_blank"),l&&(l.document.title=l.document.body.innerText="downloading..."),typeof a=="string")return o(a,d,f);var p=a.type==="application/octet-stream",I=/constructor/i.test(h.HTMLElement)||h.safari,A=/CriOS\/[\d]+/.test(navigator.userAgent);if((A||p&&I||y)&&typeof FileReader<"u"){var j=new FileReader;j.onloadend=function(){var E=j.result;E=A?E:E.replace(/^data:[^;]*;/,"data:attachment/file;"),l?l.location.href=E:location=E,l=null},j.readAsDataURL(a)}else{var T=h.URL||h.webkitURL,g=T.createObjectURL(a);l?l.location=g:location.href=g,l=null,setTimeout(function(){T.revokeObjectURL(g)},4e4)}});h.saveAs=b.saveAs=b,z.exports=b})})(ce);var Ke=ce.exports;const Xe={name:"DishManagement",components:{Plus:Pe,Search:Ue,Picture:Fe,Upload:Me,Bowl:ze,Shop:Ae,Back:Le,Delete:qe,Download:Ve,RefreshRight:Oe},setup(){const z=Ne(),s=He(),S=_(()=>{const e=localStorage.getItem("verifiedInfo");return e?JSON.parse(e):null}),o=e=>ae()===!0||ae()===e,H=_(()=>S.value!==null),q=()=>{if(!S.value){v.warning("请先完成身份验证");return}T.value="add",Object.assign(g,{name:"",category:"",price:0,window_id:S.value.window.id,image_url:"",description:"",status:1}),j.value=!0},h=_(()=>S.value?w.value.filter(e=>e.id===S.value.window.id):w.value),y=[{id:1,name:"中央食堂"},{id:2,name:"沁园餐厅"},{id:3,name:"馨园餐厅"},{id:4,name:"荷园餐厅"},{id:5,name:"竹园餐厅"},{id:6,name:"梅园餐厅"},{id:7,name:"兰园餐厅"}],b=[{id:101,name:"特色炒菜",canteen:"中央食堂",location:"一楼"},{id:102,name:"面食窗口",canteen:"中央食堂",location:"一楼"},{id:103,name:"快餐窗口",canteen:"中央食堂",location:"二楼"},{id:201,name:"川湘菜",canteen:"沁园餐厅",location:"一楼"},{id:202,name:"粤式炒菜",canteen:"沁园餐厅",location:"一楼"},{id:203,name:"东北菜",canteen:"沁园餐厅",location:"二楼"},{id:301,name:"清真窗口",canteen:"馨园餐厅",location:"一楼"},{id:302,name:"江浙菜",canteen:"馨园餐厅",location:"一楼"},{id:303,name:"火锅窗口",canteen:"馨园餐厅",location:"二楼"},{id:401,name:"湘菜窗口",canteen:"荷园餐厅",location:"一楼"},{id:402,name:"面点窗口",canteen:"荷园餐厅",location:"一楼"},{id:403,name:"盖浇饭",canteen:"荷园餐厅",location:"二楼"},{id:501,name:"日式料理",canteen:"竹园餐厅",location:"一楼"},{id:502,name:"韩式料理",canteen:"竹园餐厅",location:"一楼"},{id:503,name:"西式快餐",canteen:"竹园餐厅",location:"二楼"},{id:601,name:"粥品窗口",canteen:"梅园餐厅",location:"一楼"},{id:602,name:"小炒窗口",canteen:"梅园餐厅",location:"一楼"},{id:603,name:"蒸菜窗口",canteen:"梅园餐厅",location:"二楼"},{id:701,name:"早餐窗口",canteen:"兰园餐厅",location:"一楼"},{id:702,name:"米线窗口",canteen:"兰园餐厅",location:"一楼"},{id:703,name:"饺子馄饨",canteen:"兰园餐厅",location:"二楼"}],a=k([{id:1,name:"宫保鸡丁",category:"特色炒菜",price:15,window:"特色炒菜",window_id:101,status:1,image_url:"https://example.com/dishes/1.jpg",description:"经典川菜"},{id:2,name:"鱼香肉丝",category:"特色炒菜",price:14,window:"特色炒菜",window_id:101,status:1,image_url:"https://example.com/dishes/2.jpg",description:"开胃下饭"},{id:3,name:"麻婆豆腐",category:"特色炒菜",price:12,window:"特色炒菜",window_id:101,status:1,image_url:"https://example.com/dishes/3.jpg",description:"川味足"},{id:4,name:"水煮鱼",category:"川菜",price:28,window:"川湘菜",window_id:201,status:1,image_url:"https://example.com/dishes/4.jpg",description:"麻辣鲜香"},{id:5,name:"剁椒鱼头",category:"湘菜",price:32,window:"川湘菜",window_id:201,status:1,image_url:"https://example.com/dishes/5.jpg",description:"湘味十足"},{id:6,name:"清真牛肉面",category:"面食",price:16,window:"清真窗口",window_id:301,status:1,image_url:"https://example.com/dishes/6.jpg",description:"汤鲜肉嫩"},{id:7,name:"羊肉泡馍",category:"主食",price:18,window:"清真窗口",window_id:301,status:1,image_url:"https://example.com/dishes/7.jpg",description:"传统美味"},{id:8,name:"农家小炒肉",category:"湘菜",price:16,window:"湘菜窗口",window_id:401,status:1,image_url:"https://example.com/dishes/8.jpg",description:"农家风味"},{id:9,name:"外婆菜",category:"素菜",price:8,window:"湘菜窗口",window_id:401,status:1,image_url:"https://example.com/dishes/9.jpg",description:"开胃爽口"},{id:10,name:"寿司拼盘",category:"日料",price:22,window:"日式料理",window_id:501,status:1,image_url:"https://example.com/dishes/10.jpg",description:"精致美味"},{id:11,name:"天妇罗",category:"日料",price:18,window:"日式料理",window_id:501,status:1,image_url:"https://example.com/dishes/11.jpg",description:"外酥内嫩"},{id:12,name:"皮蛋瘦肉粥",category:"粥品",price:8,window:"粥品窗口",window_id:601,status:1,image_url:"https://example.com/dishes/12.jpg",description:"暖胃养生"},{id:13,name:"海鲜粥",category:"粥品",price:12,window:"粥品窗口",window_id:601,status:1,image_url:"https://example.com/dishes/13.jpg",description:"鲜美可口"},{id:14,name:"豆浆油条",category:"早餐",price:5,window:"早餐窗口",window_id:701,status:1,image_url:"https://example.com/dishes/14.jpg",description:"传统早点"},{id:15,name:"肉包子",category:"早餐",price:2.5,window:"早餐窗口",window_id:701,status:1,image_url:"https://example.com/dishes/15.jpg",description:"现蒸现卖"}]),d=k(""),f=k(""),l=k(""),p=k(1),I=k(10),A=k(!1),j=k(!1),T=k("add"),g=We({name:"",category:"",price:0,window_id:"",image_url:"",description:"",status:1}),E={name:[{required:!0,message:"请输入菜品名称",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}],category:[{required:!0,message:"请选择菜品类别",trigger:"change"}],price:[{required:!0,message:"请输入价格",trigger:"blur"}],window_id:[{required:!0,message:"请选择所属窗口",trigger:"change"}]},X=["主食","大荤","小荤","素菜","汤品","特色炒菜","面食","饮品","水果","小吃"],R=k(y),w=k(b),V=_(()=>s.query.canteenId),O=_(()=>s.query.windowId),D=_(()=>a.value.filter(e=>{const t=e.name.toLowerCase().includes(d.value.toLowerCase()),u=!f.value||e.category===f.value,U=!l.value||e.window_id===l.value;if(O.value)return t&&u&&e.window_id===parseInt(O.value);if(V.value){const $=w.value.filter(B=>{var Q;return B.canteen===((Q=R.value.find(ee=>ee.id===parseInt(V.value)))==null?void 0:Q.name)}).map(B=>B.id);return t&&u&&$.includes(e.window_id)}return Qe()?t&&u&&U:t&&u&&ae()===e.window_id})),J=_(()=>{const e=[{text:"菜品管理",link:"/admin/dishes"}];if(V.value){const t=R.value.find(u=>u.id===parseInt(V.value));t&&e.push({text:t.name,link:`/admin/dishes?canteenId=${t.id}`})}if(O.value){const t=w.value.find(u=>u.id===parseInt(O.value));t&&e.push({text:t.name})}return e}),Y=e=>{T.value="edit",Object.assign(g,e),j.value=!0},Z=async()=>{var e,t;A.value=!0;try{if(await new Promise(u=>setTimeout(u,1e3)),T.value==="add"){const u={id:a.value.length+1,...g,window:(e=w.value.find(U=>U.id===g.window_id))==null?void 0:e.name};a.value.push(u),v.success("添加成功")}else{const u=a.value.findIndex(U=>U.id===g.id);u>-1&&(a.value[u]={...a.value[u],...g,window:(t=w.value.find(U=>U.id===g.window_id))==null?void 0:t.name}),v.success("更新成功")}j.value=!1}catch{v.error("操作失败")}finally{A.value=!1}},c=async e=>{try{await le.confirm(`确定要删除 ${e.name} 吗？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),await new Promise(u=>setTimeout(u,500));const t=a.value.findIndex(u=>u.id===e.id);t>-1&&a.value.splice(t,1),v.success("删除成功")}catch(t){t!=="cancel"&&v.error("删除失败")}},P=async e=>{try{await new Promise(t=>setTimeout(t,300)),v.success(`${e.name} 状态已更新`)}catch{v.error("状态更新失败"),e.status=e.status===1?0:1}},re=e=>({主食:"info",大荤:"danger",小荤:"warning",素菜:"success",汤品:"info",特色炒菜:"primary",面食:"info",饮品:"info",水果:"success",小吃:"warning"})[e]||"info",de=e=>{I.value=e,p.value=1;const t=Math.ceil(ie.value/I.value);p.value>t&&(p.value=t||1)},ue=e=>{p.value=e,window.scrollTo({top:0,behavior:"smooth"})},pe="https://api.example.com/upload",me=e=>{g.image_url=e.url,v.success("图片上传成功")},we=e=>{const t=/^image\//.test(e.type),u=e.size/1024/1024<2;return t||v.error("只能上传图片文件!"),u||v.error("图片大小不能超过 2MB!"),t&&u},L=k(V.value||""),fe=_(()=>{if(!L.value)return[];const e=R.value.find(t=>t.id===L.value);return w.value.filter(t=>t.canteen===(e==null?void 0:e.name))}),_e=e=>{l.value="",e?z.push({query:{...s.query,canteenId:e,windowId:void 0}}):z.push({query:{...s.query,canteenId:void 0,windowId:void 0}})};se(l,e=>{e?z.push({query:{...s.query,windowId:e}}):z.push({query:{...s.query,windowId:void 0}})});const ge=_(()=>{const e=(p.value-1)*I.value,t=e+I.value;return D.value.slice(e,t)}),ie=_(()=>D.value.length);se([d,f,l],()=>{p.value=1});const ve=_(()=>{const e=R.value.find(t=>t.id===L.value);return e==null?void 0:e.name}),he=_(()=>L.value?w.value.filter(e=>{const t=R.value.find(u=>u.id===L.value);return e.canteen===(t==null?void 0:t.name)}):[]),ye=e=>{const t=R.value.find(u=>u.id===e);return w.value.filter(u=>u.canteen===(t==null?void 0:t.name)).length},be=e=>a.value.filter(t=>t.window_id===e).length,Ce=e=>{L.value=e.id,l.value=""},ke=e=>{l.value=e.id},xe=()=>{L.value="",l.value=""},W=k([]),De=e=>{W.value=e},Se=async()=>{if(W.value.length)try{await le.confirm(`确定要删除选中的 ${W.value.length} 个菜品吗？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),await new Promise(e=>setTimeout(e,1e3)),W.value.forEach(e=>{const t=a.value.findIndex(u=>u.id===e.id);t>-1&&a.value.splice(t,1)}),v.success("批量删除成功"),W.value=[]}catch(e){e!=="cancel"&&v.error("批量删除失败")}},je=()=>{const e=D.value.map(B=>{var Q;return{菜品名称:B.name,类别:B.category,价格:B.price,描述:B.description,状态:B.status===1?"上架":"下架",所属窗口:((Q=w.value.find(ee=>ee.id===B.window_id))==null?void 0:Q.name)||""}}),t=oe.json_to_sheet(e),u=oe.book_new();oe.book_append_sheet(u,t,"菜品列表");const U=Ge(u,{bookType:"xlsx",type:"array"}),$=new Blob([U],{type:"application/octet-stream"});Ke.saveAs($,`菜品列表_${new Date().toLocaleDateString()}.xlsx`),v.success("导出成功")},Be=_(()=>D.value.length),Ie=_(()=>D.value.filter(e=>e.status===1).length),Te=_(()=>D.value.length?(D.value.reduce((t,u)=>t+u.price,0)/D.value.length).toFixed(2):"0.00"),Ee=_(()=>new Set(D.value.map(e=>e.category)).size);return{searchQuery:d,categoryFilter:f,windowFilter:l,currentPage:p,pageSize:I,total:ie,loading:A,dialogVisible:j,dialogType:T,dishForm:g,rules:E,categories:X,canteens:R,windows:w,filteredDishes:D,uploadUrl:pe,showAddDialog:q,editDish:Y,saveDish:Z,deleteDish:c,handleStatusChange:P,getCategoryType:re,handleSizeChange:de,handleCurrentChange:ue,handleUploadSuccess:me,beforeUpload:we,hasPermission:o,showAddButton:H,availableWindows:h,userVerification:S,breadcrumbItems:J,selectedCanteen:L,filteredWindows:fe,handleCanteenChange:_e,paginatedDishes:ge,selectedCanteenName:ve,currentWindows:he,getWindowCount:ye,getDishCount:be,selectCanteen:Ce,selectWindow:ke,backToCanteens:xe,selectedDishes:W,handleSelectionChange:De,batchDelete:Se,exportDishes:je,totalDishes:Be,activeDishes:Ie,averagePrice:Te,categoryCount:Ee,resetFilters:()=>{d.value="",f.value="",p.value=1,v.success("筛选条件已重置")}}}},Je={class:"dish-management"},Ye={key:0,class:"canteen-cards"},Ze={class:"canteen-icon"},$e={class:"canteen-info"},et={class:"window-header"},tt={class:"window-icon"},nt={class:"window-info"},at={class:"location"},ot={class:"top-actions"},it={class:"left"},st={class:"right"},lt={key:0,class:"statistics-cards"},ct={class:"statistics-value"},rt={class:"number"},dt={class:"statistics-value"},ut={class:"number"},pt={class:"statistics-value"},mt={class:"number"},wt={class:"statistics-value"},ft={class:"number"},_t={class:"dish-info"},gt={class:"image-placeholder"},vt={class:"price"},ht={class:"pagination"};function yt(z,s,S,o,H,q){const h=m("Bowl"),y=m("el-icon"),b=m("el-card"),a=m("el-col"),d=m("el-row"),f=m("Back"),l=m("el-button"),p=m("Shop"),I=m("Plus"),A=m("Delete"),j=m("Download"),T=m("Search"),g=m("el-input"),E=m("el-option"),X=m("el-select"),R=m("RefreshRight"),w=m("el-table-column"),V=m("Picture"),O=m("el-image"),D=m("el-tag"),J=m("el-switch"),Y=m("el-table"),Z=m("el-pagination");return C(),F("div",Je,[o.selectedCanteen?(C(),F(N,{key:1},[r("div",et,[n(l,{onClick:o.backToCanteens,text:""},{default:i(()=>[n(y,null,{default:i(()=>[n(f)]),_:1}),s[4]||(s[4]=M(" 返回餐厅列表 "))]),_:1},8,["onClick"]),r("h2",null,x(o.selectedCanteenName)+" - 窗口列表",1)]),n(d,{gutter:20,class:"window-cards"},{default:i(()=>[(C(!0),F(N,null,ne(o.currentWindows,c=>(C(),K(a,{span:6,key:c.id},{default:i(()=>[n(b,{class:"window-card",onClick:P=>o.selectWindow(c)},{default:i(()=>[r("div",tt,[n(y,{size:30},{default:i(()=>[n(p)]),_:1})]),r("div",nt,[r("h3",null,x(c.name),1),r("p",null,x(o.getDishCount(c.id))+" 个菜品",1),r("p",at,x(c.location),1)])]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})],64)):(C(),F("div",Ye,[n(d,{gutter:20},{default:i(()=>[(C(!0),F(N,null,ne(o.canteens,c=>(C(),K(a,{span:24/7,key:c.id},{default:i(()=>[n(b,{class:"canteen-card","body-style":{padding:"0px"},onClick:P=>o.selectCanteen(c)},{default:i(()=>[r("div",Ze,[n(y,{size:40},{default:i(()=>[n(h)]),_:1})]),r("div",$e,[r("h3",null,x(c.name),1),r("p",null,x(o.getWindowCount(c.id))+" 个窗口",1)])]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})])),o.windowFilter?(C(),F(N,{key:2},[r("div",ot,[r("div",it,[o.showAddButton?(C(),K(l,{key:0,type:"primary",onClick:o.showAddDialog},{default:i(()=>[n(y,null,{default:i(()=>[n(I)]),_:1}),s[5]||(s[5]=M("新增菜品 "))]),_:1},8,["onClick"])):te("",!0),n(l,{type:"danger",onClick:o.batchDelete,disabled:!o.selectedDishes.length},{default:i(()=>[n(y,null,{default:i(()=>[n(A)]),_:1}),s[6]||(s[6]=M("批量删除 "))]),_:1},8,["onClick","disabled"]),n(l,{type:"success",onClick:o.exportDishes},{default:i(()=>[n(y,null,{default:i(()=>[n(j)]),_:1}),s[7]||(s[7]=M("导出菜品 "))]),_:1},8,["onClick"])]),r("div",st,[n(g,{modelValue:o.searchQuery,"onUpdate:modelValue":s[0]||(s[0]=c=>o.searchQuery=c),placeholder:"搜索菜品",clearable:"",class:"search-input"},{prefix:i(()=>[n(y,null,{default:i(()=>[n(T)]),_:1})]),_:1},8,["modelValue"]),n(X,{modelValue:o.categoryFilter,"onUpdate:modelValue":s[1]||(s[1]=c=>o.categoryFilter=c),placeholder:"菜品类别",clearable:"",class:"filter-item"},{default:i(()=>[(C(!0),F(N,null,ne(o.categories,c=>(C(),K(E,{key:c,label:c,value:c},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),n(l,{type:"info",plain:"",onClick:o.resetFilters},{default:i(()=>[n(y,null,{default:i(()=>[n(R)]),_:1}),s[8]||(s[8]=M("重置筛选 "))]),_:1},8,["onClick"])])]),o.windowFilter?(C(),F("div",lt,[n(d,{gutter:20},{default:i(()=>[n(a,{span:6},{default:i(()=>[n(b,{class:"statistics-card"},{header:i(()=>s[9]||(s[9]=[r("div",{class:"card-header"},[r("span",null,"总菜品数")],-1)])),default:i(()=>[r("div",ct,[r("span",rt,x(o.totalDishes),1),s[10]||(s[10]=r("span",{class:"label"},"个",-1))])]),_:1})]),_:1}),n(a,{span:6},{default:i(()=>[n(b,{class:"statistics-card"},{header:i(()=>s[11]||(s[11]=[r("div",{class:"card-header"},[r("span",null,"已上架菜品")],-1)])),default:i(()=>[r("div",dt,[r("span",ut,x(o.activeDishes),1),s[12]||(s[12]=r("span",{class:"label"},"个",-1))])]),_:1})]),_:1}),n(a,{span:6},{default:i(()=>[n(b,{class:"statistics-card"},{header:i(()=>s[13]||(s[13]=[r("div",{class:"card-header"},[r("span",null,"平均价格")],-1)])),default:i(()=>[r("div",pt,[r("span",mt,"¥"+x(o.averagePrice),1)])]),_:1})]),_:1}),n(a,{span:6},{default:i(()=>[n(b,{class:"statistics-card"},{header:i(()=>s[14]||(s[14]=[r("div",{class:"card-header"},[r("span",null,"类别数量")],-1)])),default:i(()=>[r("div",wt,[r("span",ft,x(o.categoryCount),1),s[15]||(s[15]=r("span",{class:"label"},"个",-1))])]),_:1})]),_:1})]),_:1})])):te("",!0),n(b,{class:"dish-list"},{default:i(()=>[n(Y,{data:o.paginatedDishes,onSelectionChange:o.handleSelectionChange,style:{width:"100%"},"header-cell-style":{background:"#f5f7fa"}},{default:i(()=>[n(w,{type:"selection",width:"55"}),n(w,{prop:"name",label:"菜品名称"},{default:i(({row:c})=>[r("div",_t,[n(O,{src:c.image_url,"preview-src-list":[c.image_url],class:"dish-image"},{error:i(()=>[r("div",gt,[n(y,null,{default:i(()=>[n(V)]),_:1})])]),_:2},1032,["src","preview-src-list"]),r("span",null,x(c.name),1)])]),_:1}),n(w,{prop:"category",label:"类别",width:"120"},{default:i(({row:c})=>[n(D,{type:o.getCategoryType(c.category),size:"small"},{default:i(()=>[M(x(c.category),1)]),_:2},1032,["type"])]),_:1}),n(w,{prop:"price",label:"价格",width:"120"},{default:i(({row:c})=>[r("span",vt,"¥"+x(c.price),1)]),_:1}),n(w,{prop:"description",label:"描述"}),n(w,{prop:"status",label:"状态",width:"100"},{default:i(({row:c})=>[n(J,{modelValue:c.status,"onUpdate:modelValue":P=>c.status=P,"active-value":1,"inactive-value":0,onChange:P=>o.handleStatusChange(c)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),n(w,{label:"操作",width:"250",fixed:"right"},{default:i(({row:c})=>[o.hasPermission(c.window_id)?(C(),F(N,{key:0},[n(l,{type:"primary",link:"",onClick:P=>o.editDish(c)},{default:i(()=>s[16]||(s[16]=[M(" 编辑 ")])),_:2},1032,["onClick"]),n(l,{type:"danger",link:"",onClick:P=>o.deleteDish(c)},{default:i(()=>s[17]||(s[17]=[M(" 删除 ")])),_:2},1032,["onClick"])],64)):(C(),K(l,{key:1,type:"info",link:"",onClick:P=>z.viewDish(c)},{default:i(()=>s[18]||(s[18]=[M(" 查看 ")])),_:2},1032,["onClick"]))]),_:1})]),_:1},8,["data","onSelectionChange"]),r("div",ht,[n(Z,{"current-page":o.currentPage,"onUpdate:currentPage":s[2]||(s[2]=c=>o.currentPage=c),"page-size":o.pageSize,"onUpdate:pageSize":s[3]||(s[3]=c=>o.pageSize=c),"page-sizes":[10,20,50,100],total:o.total,layout:"total, sizes, prev, pager, next",onSizeChange:o.handleSizeChange,onCurrentChange:o.handleCurrentChange},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])])]),_:1})],64)):te("",!0)])}const St=Re(Xe,[["render",yt],["__scopeId","data-v-08f49ce2"]]);export{St as default};
